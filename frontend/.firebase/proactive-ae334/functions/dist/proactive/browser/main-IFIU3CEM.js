import{a as _,b as G,c as Xg,e as Pn,f as p}from"./chunk-FO65GQC2.js";var em=null;var Kl=1,Ql=Symbol("SIGNAL");function Be(t){let e=em;return em=t,e}var tm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function KD(t){if(!(Xl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kl)){if(!t.producerMustRecompute(t)&&!Zl(t)){t.dirty=!1,t.lastCleanEpoch=Kl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kl}}function nm(t){return t&&(t.nextProducerIndex=0),Be(t)}function rm(t,e){if(Be(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Jl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Zl(t){Po(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KD(n),r!==n.version))return!0}return!1}function im(t){if(Po(t),Xl(t))for(let e=0;e<t.producerNode.length;e++)Jl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Jl(t,e){if(QD(t),Po(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Jl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Po(i),i.producerIndexOfThis[r]=e}}function Xl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Po(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function QD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ZD(){throw new Error}var JD=ZD;function sm(t){JD=t}function S(t){return typeof t=="function"}function Tr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ko=Tr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(S(r))try{r()}catch(s){e=s instanceof ko?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{om(s)}catch(o){e=e??[],o instanceof ko?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ko(e)}}add(e){var n;if(e&&e!==this)if(this.closed)om(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&kn(n,e)}remove(e){let{_finalizers:n}=this;n&&kn(n,e),e instanceof t&&e._removeParent(this)}};te.EMPTY=(()=>{let t=new te;return t.closed=!0,t})();var eu=te.EMPTY;function Fo(t){return t instanceof te||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function om(t){S(t)?t():t.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Sr={setTimeout(t,e,...n){let{delegate:r}=Sr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Sr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lo(t){Sr.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(t);else throw t})}function ji(){}var am=tu("C",void 0,void 0);function cm(t){return tu("E",void 0,t)}function lm(t){return tu("N",t,void 0)}function tu(t,e,n){return{kind:t,value:e,error:n}}var Fn=null;function Ar(t){if(ht.useDeprecatedSynchronousErrorHandling){let e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else t()}function um(t){ht.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=t)}var Ln=class extends te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fo(e)&&e.add(this)):this.destination=tb}static create(e,n,r){return new Mr(e,n,r)}next(e){this.isStopped?ru(lm(e),this):this._next(e)}error(e){this.isStopped?ru(cm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ru(am,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XD=Function.prototype.bind;function nu(t,e){return XD.call(t,e)}var iu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vo(r)}else Vo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vo(n)}}},Mr=class extends Ln{constructor(e,n,r){super();let i;if(S(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&nu(e.next,s),error:e.error&&nu(e.error,s),complete:e.complete&&nu(e.complete,s)}):i=e}this.destination=new iu(i)}};function Vo(t){ht.useDeprecatedSynchronousErrorHandling?um(t):Lo(t)}function eb(t){throw t}function ru(t,e){let{onStoppedNotification:n}=ht;n&&Sr.setTimeout(()=>n(t,e))}var tb={closed:!0,next:ji,error:eb,complete:ji};var Nr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $e(t){return t}function su(...t){return ou(t)}function ou(t){return t.length===0?$e:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var x=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rb(n)?n:new Mr(n,r,i);return Ar(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dm(r),new r((i,s)=>{let o=new Mr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Nr](){return this}pipe(...n){return ou(n)(this)}toPromise(n){return n=dm(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function dm(t){var e;return(e=t??ht.Promise)!==null&&e!==void 0?e:Promise}function nb(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}function rb(t){return t&&t instanceof Ln||nb(t)&&Fo(t)}function au(t){return S(t?.lift)}function H(t){return e=>{if(au(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new cu(t,e,n,r,i)}var cu=class extends Ln{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Rr(){return H((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xr=class extends x{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,au(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new te;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=te.EMPTY)}return e}refCount(){return Rr()(this)}};var hm=Tr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class t extends x{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new jo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hm}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?eu:(this.currentObservers=null,s.push(n),new te(()=>{this.currentObservers=null,kn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new x;return n.source=this,n}}return t.create=(e,n)=>new jo(e,n),t})(),jo=class extends ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:eu}};var ye=class extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ui={now(){return(Ui.delegate||Date).now()},delegate:void 0};var Or=class extends ve{constructor(e=1/0,n=1/0,r=Ui){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Uo=class extends te{constructor(e,n){super()}schedule(e,n=0){return this}};var Bi={setInterval(t,e,...n){let{delegate:r}=Bi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Bi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pr=class extends Uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Bi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Bi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var kr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};kr.now=Ui.now;var Fr=class extends kr{constructor(e,n=kr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var en=new Fr(Pr),lu=en;var Bo=class extends Pr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $o=class extends Fr{};var uu=new $o(Bo);var Ze=new x(t=>t.complete());function Ho(t){return t&&S(t.schedule)}function fm(t){return t[t.length-1]}function Wo(t){return S(fm(t))?t.pop():void 0}function tn(t){return Ho(fm(t))?t.pop():void 0}function du(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gm(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function pm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vn(t){return this instanceof Vn?(this.v=t,this):new Vn(t)}function mm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Vn?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function vm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pm=="function"?pm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var zo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Go(t){return S(t?.then)}function qo(t){return S(t[Nr])}function Yo(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Ko(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ib(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qo=ib();function Zo(t){return S(t?.[Qo])}function Jo(t){return mm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vn(n.read());if(i)return yield Vn(void 0);yield yield Vn(r)}}finally{n.releaseLock()}})}function Xo(t){return S(t?.getReader)}function re(t){if(t instanceof x)return t;if(t!=null){if(qo(t))return sb(t);if(zo(t))return ob(t);if(Go(t))return ab(t);if(Yo(t))return ym(t);if(Zo(t))return cb(t);if(Xo(t))return lb(t)}throw Ko(t)}function sb(t){return new x(e=>{let n=t[Nr]();if(S(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ob(t){return new x(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ab(t){return new x(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lo)})}function cb(t){return new x(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ym(t){return new x(e=>{ub(t,e).catch(n=>e.error(n))})}function lb(t){return ym(Jo(t))}function ub(t,e){var n,r,i,s;return gm(this,void 0,void 0,function*(){try{for(n=vm(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Re(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nn(t,e=0){return H((n,r)=>{n.subscribe(O(r,i=>Re(r,t,()=>r.next(i),e),()=>Re(r,t,()=>r.complete(),e),i=>Re(r,t,()=>r.error(i),e)))})}function rn(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _m(t,e){return re(t).pipe(rn(e),nn(e))}function wm(t,e){return re(t).pipe(rn(e),nn(e))}function Em(t,e){return new x(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Im(t,e){return new x(n=>{let r;return Re(n,e,()=>{r=t[Qo](),Re(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}function ea(t,e){if(!t)throw new Error("Iterable cannot be null");return new x(n=>{Re(n,e,()=>{let r=t[Symbol.asyncIterator]();Re(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Cm(t,e){return ea(Jo(t),e)}function Dm(t,e){if(t!=null){if(qo(t))return _m(t,e);if(zo(t))return Em(t,e);if(Go(t))return wm(t,e);if(Yo(t))return ea(t,e);if(Zo(t))return Im(t,e);if(Xo(t))return Cm(t,e)}throw Ko(t)}function ie(t,e){return e?Dm(t,e):re(t)}function T(...t){let e=tn(t);return ie(t,e)}function Lr(t,e){let n=S(t)?t:()=>t,r=i=>i.error(n());return new x(e?i=>e.schedule(r,0,i):r)}function hu(t){return!!t&&(t instanceof x||S(t.lift)&&S(t.subscribe))}var Vt=Tr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bm(t){return t instanceof Date&&!isNaN(t)}function j(t,e){return H((n,r)=>{let i=0;n.subscribe(O(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:db}=Array;function hb(t,e){return db(e)?t(...e):t(e)}function ta(t){return j(e=>hb(t,e))}var{isArray:fb}=Array,{getPrototypeOf:pb,prototype:gb,keys:mb}=Object;function na(t){if(t.length===1){let e=t[0];if(fb(e))return{args:e,keys:null};if(vb(e)){let n=mb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vb(t){return t&&typeof t=="object"&&pb(t)===gb}function ra(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ia(...t){let e=tn(t),n=Wo(t),{args:r,keys:i}=na(t);if(r.length===0)return ie([],e);let s=new x(yb(r,e,i?o=>ra(i,o):$e));return n?s.pipe(ta(n)):s}function yb(t,e,n=$e){return r=>{Tm(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Tm(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(O(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Tm(t,e,n){t?Re(n,t,e):e()}function Sm(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=y=>l<r?g(y):c.push(y),g=y=>{s&&e.next(y),l++;let b=!1;re(n(y,u++)).subscribe(O(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let C=c.shift();o?Re(e,o,()=>g(C)):g(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(O(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ue(t,e,n=1/0){return S(e)?ue((r,i)=>j((s,o)=>e(r,s,i,o))(re(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>Sm(r,i,t,n)))}function fu(t=1/0){return ue($e,t)}function Am(){return fu(1)}function Vr(...t){return Am()(ie(t,tn(t)))}function sa(t){return new x(e=>{re(t()).subscribe(e)})}function pu(...t){let e=Wo(t),{args:n,keys:r}=na(t),i=new x(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;re(n[u]).subscribe(O(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?ra(r,a):a),s.complete())}))}});return e?i.pipe(ta(e)):i}function Mm(t=0,e,n=lu){let r=-1;return e!=null&&(Ho(e)?n=e:r=e),new x(i=>{let s=bm(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Je(t,e){return H((n,r)=>{let i=0;n.subscribe(O(r,s=>t.call(e,s,i++)&&r.next(s)))})}function sn(t){return H((e,n)=>{let r=null,i=!1,s;r=e.subscribe(O(n,void 0,void 0,o=>{s=re(t(o,sn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Nm(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(O(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function jn(t,e){return S(e)?ue(t,e,1):ue(t,1)}function on(t){return H((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function jt(t){return t<=0?()=>Ze:H((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gu(t){return j(()=>t)}function oa(t=_b){return H((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _b(){return new Vt}function jr(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ft(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,s)=>t(i,s,r)):$e,jt(1),n?on(e):oa(()=>new Vt))}function Ur(t){return t<=0?()=>Ze:H((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,s)=>t(i,s,r)):$e,Ur(1),n?on(e):oa(()=>new Vt))}function vu(t,e){return H(Nm(t,e,arguments.length>=2,!0))}function yu(...t){let e=tn(t);return H((n,r)=>{(e?Vr(t,n,e):Vr(t,n)).subscribe(r)})}function xe(t,e){return H((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(O(r,c=>{i?.unsubscribe();let l=0,u=s++;re(t(c,u)).subscribe(i=O(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function _u(t){return H((e,n)=>{re(t).subscribe(O(n,()=>n.complete(),ji)),!n.closed&&e.subscribe(n)})}function se(t,e,n){let r=S(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(O(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$e}function Rm(t,e){return H((n,r)=>{let{leading:i=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,l=!1,u=()=>{c?.unsubscribe(),c=null,s&&(f(),l&&r.complete())},d=()=>{c=null,l&&r.complete()},h=g=>c=re(t(g)).subscribe(O(r,u,d)),f=()=>{if(o){o=!1;let g=a;a=null,r.next(g),!l&&h(g)}};n.subscribe(O(r,g=>{o=!0,a=g,!(c&&!c.closed)&&(i?f():h(g))},()=>{l=!0,!(s&&o&&c&&!c.closed)&&r.complete()}))})}function wu(t,e=en,n){let r=Mm(t,e);return Rm(()=>r,n)}var wb="https://g.co/ng/security#xss",E=class extends Error{constructor(e,n){super(Va(e,n)),this.code=e}};function Va(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ju=class extends ve{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Eu(s),i&&(i=Eu(i)),o&&(o=Eu(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof te&&e.add(a),a}};function Eu(t){return e=>{setTimeout(t,void 0,e)}}var pe=ju;var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(P||{});function be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var pv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pv||{}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bt||{});function is(t){return{toString:t}.toString()}var $i=globalThis;var zr={},He=[];function Z(t){for(let e in t)if(t[e]===Z)return e;throw Error("Could not find renamed property on target object.")}function Eb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Ib=Z({\u0275cmp:Z}),Cb=Z({\u0275dir:Z}),Db=Z({\u0275pipe:Z}),bb=Z({\u0275mod:Z}),ya=Z({\u0275fac:Z}),Hi=Z({__NG_ELEMENT_ID__:Z}),Om=Z({__NG_ENV_ID__:Z}),et=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(et||{});function gv(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Uu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Sb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Tb(t){return t===3||t===4||t===6}function Sb(t){return t.charCodeAt(0)===64}function Gi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Pm(t,n,i,null,e[++r]):Pm(t,n,i,null,null))}}return t}function Pm(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var mv="ng-template";function Ab(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&gv(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function vv(t){return t.type===4&&t.value!==mv}function Mb(t,e,n){let r=t.type===4&&!n?mv:t.value;return e===r}function Nb(t,e,n){let r=4,i=t.attrs||[],s=Ob(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!pt(r)&&!pt(c))return!1;if(o&&pt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Mb(t,c,n)||c===""&&e.length===1){if(pt(r))return!1;o=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Ab(t.attrs,l,n)){if(pt(r))return!1;o=!0}continue}let u=r&8?"class":c,d=Rb(u,i,vv(t),n);if(d===-1){if(pt(r))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&gv(f,l,0)!==-1||r&2&&l!==h){if(pt(r))return!1;o=!0}}}}return pt(r)||o}function pt(t){return(t&1)===0}function Rb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Pb(e,t)}function xb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Nb(t,e[r],n))return!0;return!1}function Ob(t){for(let e=0;e<t.length;e++){let n=t[e];if(Tb(n))return e}return t.length}function Pb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function km(t,e){return t?":not("+e.trim()+")":e}function kb(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!pt(o)&&(e+=km(s,i),i=""),r=o,s=s||!pt(r);n++}return i!==""&&(e+=km(s,i)),e}function Fb(t){return t.map(kb).join(",")}function Lb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!pt(i))break;i=s}r++}return{attrs:e,classes:n}}function rt(t){return is(()=>{let e=Iv(t),n=G(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,styles:t.styles||He,_:null,schemas:t.schemas||null,tView:null,id:""});Cv(n);let r=t.dependencies;return n.directiveDefs=Lm(r,!1),n.pipeDefs=Lm(r,!0),n.id=Ub(n),n})}function Vb(t){return Bn(t)||yv(t)}function jb(t){return t!==null}function Oe(t){return is(()=>({type:t.type,bootstrap:t.bootstrap||He,declarations:t.declarations||He,imports:t.imports||He,exports:t.exports||He,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Fm(t,e){if(t==null)return zr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=et.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==et.None?[r,a]:r,e[s]=o):n[s]=r}return n}function qe(t){return is(()=>{let e=Iv(t);return Cv(e),e})}function Bn(t){return t[Ib]||null}function yv(t){return t[Cb]||null}function _v(t){return t[Db]||null}function wv(t){let e=Bn(t)||yv(t)||_v(t);return e!==null?e.standalone:!1}function Ev(t,e){let n=t[bb]||null;if(!n&&e===!0)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return n}function Iv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||He,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fm(t.inputs,e),outputs:Fm(t.outputs),debugInfo:null}}function Cv(t){t.features?.forEach(e=>e(t))}function Lm(t,e){if(!t)return null;let n=e?_v:Vb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jb)}function Ub(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ze=0,U=1,I=2,_e=3,gt=4,vt=5,Bt=6,qi=7,Tt=8,Gr=9,cn=10,oe=11,Yi=12,Vm=13,Jr=14,tt=15,ja=16,Br=17,qr=18,Ua=19,Dv=20,Wi=21,Iu=22,$n=23,Ge=25,bv=1,Ki=6,$t=7,_a=8,wa=9,We=10,Id=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Id||{});function Ut(t){return Array.isArray(t)&&typeof t[bv]=="object"}function St(t){return Array.isArray(t)&&t[bv]===!0}function Tv(t){return(t.flags&4)!==0}function ss(t){return t.componentOffset>-1}function Cd(t){return(t.flags&1)===1}function ln(t){return!!t.template}function Sv(t){return(t[I]&512)!==0}var Av="svg",Bb="math",$b=!1;function Hb(){return $b}function mt(t){for(;Array.isArray(t);)t=t[ze];return t}function Mv(t,e){return mt(e[t])}function it(t,e){return mt(e[t.index])}function Nv(t,e){return t.data[e]}function dn(t,e){let n=e[t];return Ut(n)?n:n[ze]}function Dd(t){return(t[I]&128)===128}function Wb(t){return St(t[_e])}function Ea(t,e){return e==null?null:t[e]}function Rv(t){t[Br]=0}function zb(t){t[I]&1024||(t[I]|=1024,Dd(t)&&Qi(t))}function Gb(t,e){for(;t>0;)e=e[Jr],t--;return e}function bd(t){return!!(t[I]&9216||t[$n]?.dirty)}function Bu(t){bd(t)?Qi(t):t[I]&64&&(Hb()?(t[I]|=1024,Qi(t)):t[cn].changeDetectionScheduler?.notify())}function Qi(t){t[cn].changeDetectionScheduler?.notify();let e=Zi(t);for(;e!==null&&!(e[I]&8192||(e[I]|=8192,!Dd(e)));)e=Zi(e)}function qb(t,e){if((t[I]&256)===256)throw new E(911,!1);t[Wi]===null&&(t[Wi]=[]),t[Wi].push(e)}function Zi(t){let e=t[_e];return St(e)?e[_e]:e}var B={lFrame:Vv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yb(){return B.lFrame.elementDepthCount}function Kb(){B.lFrame.elementDepthCount++}function Qb(){B.lFrame.elementDepthCount--}function xv(){return B.bindingsEnabled}function os(){return B.skipHydrationRootTNode!==null}function Zb(t){return B.skipHydrationRootTNode===t}function Jb(t){B.skipHydrationRootTNode=t}function Xb(){B.skipHydrationRootTNode=null}function ae(){return B.lFrame.lView}function st(){return B.lFrame.tView}function Ye(){let t=Ov();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ov(){return B.lFrame.currentTNode}function eT(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function as(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function Pv(){return B.lFrame.isParent}function tT(){B.lFrame.isParent=!1}function nT(t){return B.lFrame.bindingIndex=t}function Td(){return B.lFrame.bindingIndex++}function rT(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iT(){return B.lFrame.inI18n}function sT(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,$u(e)}function oT(){return B.lFrame.currentDirectiveIndex}function $u(t){B.lFrame.currentDirectiveIndex=t}function aT(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function kv(t){B.lFrame.currentQueryIndex=t}function cT(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[vt]:null}function Fv(t,e,n){if(n&P.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&P.Host);)if(i=cT(s),i===null||(s=s[Jr],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=B.lFrame=Lv();return r.currentTNode=e,r.lView=t,!0}function Sd(t){let e=Lv(),n=t[U];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Lv(){let t=B.lFrame,e=t===null?null:t.child;return e===null?Vv(t):e}function Vv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jv(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Uv=jv;function Ad(){let t=jv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lT(t){return(B.lFrame.contextLView=Gb(t,B.lFrame.contextLView))[Tt]}function Xr(){return B.lFrame.selectedIndex}function Hn(t){B.lFrame.selectedIndex=t}function Bv(){let t=B.lFrame;return Nv(t.tView,t.selectedIndex)}function Kn(){B.lFrame.currentNamespace=Av}function ei(){uT()}function uT(){B.lFrame.currentNamespace=null}function $v(){return B.lFrame.currentNamespace}var Hv=!0;function Md(){return Hv}function hn(t){Hv=t}function dT(){return Ba(Ye(),ae())}function Ba(t,e){return new Gt(it(t,e))}var Gt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dT;let t=e;return t})();function Nd(t,e){t.forEach(n=>Array.isArray(n)?Nd(n,e):e(n))}function Wv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ia(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fT(t,e,n){let r=cs(t,e);return r>=0?t[r|1]=n:(r=~r,hT(t,r,e,n)),r}function Cu(t,e){let n=cs(t,e);if(n>=0)return t[n|1]}function cs(t,e){return pT(t,e,1)}function pT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var gT="ngSkipHydration",mT="ngskiphydration";function zv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===mT)return!0}return!1}function Gv(t){return t.hasAttribute(gT)}function Ca(t){return(t.flags&128)===128}function vT(t){if(Ca(t))return!0;let e=t.parent;for(;e;){if(Ca(t)||zv(e))return!0;e=e.parent}return!1}var Hu;function qv(t){Hu=t}function $a(){if(Hu!==void 0)return Hu;if(typeof document<"u")return document;throw new E(210,!1)}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ha(t){return jm(t,Kv)||jm(t,Qv)}function Yv(t){return Ha(t)!==null}function jm(t,e){return t.hasOwnProperty(e)?t[e]:null}function yT(t){let e=t&&(t[Kv]||t[Qv]);return e||null}function Um(t){return t&&(t.hasOwnProperty(Bm)||t.hasOwnProperty(_T))?t[Bm]:null}var Kv=Z({\u0275prov:Z}),Bm=Z({\u0275inj:Z}),Qv=Z({ngInjectableDef:Z}),_T=Z({ngInjectorDef:Z}),w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Wa=new w("",{providedIn:"root",factory:()=>wT}),wT="ng",Rd=new w(""),Ke=new w("",{providedIn:"platform",factory:()=>"unknown"});var xd=new w("",{providedIn:"root",factory:()=>$a().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ET=Z({__forward_ref__:Z});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return be(this())},t}function De(t){return Zv(t)?t():t}function Zv(t){return typeof t=="function"&&t.hasOwnProperty(ET)&&t.__forward_ref__===ti}function Jv(t){return t&&!!t.\u0275providers}function Xv(t){return typeof t=="string"?t:t==null?"":String(t)}function IT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xv(t)}function CT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,t)}function Od(t,e){throw new E(-201,!1)}var Wu;function DT(){return Wu}function Xe(t){let e=Wu;return Wu=t,e}function ey(t,e,n){let r=Ha(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&P.Optional)return null;if(e!==void 0)return e;Od(t,"Injector")}var bT={},Ji=bT,zu="__NG_DI_FLAG__",Da="ngTempTokenPath",TT="ngTokenPath",ST=/\n/gm,AT="\u0275",$m="__source",zi;function an(t){let e=zi;return zi=t,e}function MT(t,e=P.Default){if(zi===void 0)throw new E(-203,!1);return zi===null?ey(t,void 0,e):zi.get(t,e&P.Optional?null:void 0,e)}function k(t,e=P.Default){return(DT()||MT)(De(t),e)}function v(t,e=P.Default){return k(t,za(e))}function za(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gu(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,s=P.Default;for(let o=0;o<r.length;o++){let a=r[o],c=RT(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function NT(t,e){return t[zu]=e,t.prototype[zu]=e,t}function RT(t){return t[zu]}function xT(t,e,n,r){let i=t[Da];throw e[$m]&&i.unshift(e[$m]),t.message=OT(`
`+t.message,i,n,r),t[TT]=i,t[Da]=null,t}function OT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AT?t.slice(2):t;let i=be(e);if(Array.isArray(e))i=e.map(be).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ST,`
  `)}`}function PT(){let t=new Qn;return v(Ke)==="browser"&&(t.store=kT($a(),v(Wa))),t}var Qn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=D({token:e,providedIn:"root",factory:PT});let t=e;return t})();function kT(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ty="h",ny="b",qu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(qu||{}),FT="e",LT="t",Pd="c",ry="x",ba="r",VT="i",jT="n",UT="d",BT="__nghData__",iy=BT,Du="ngh",$T="nghm",sy=()=>null;function HT(t,e,n=!1){let r=t.getAttribute(Du);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let u=e.get(Qn,null,{optional:!0});u!==null&&(c=u.get(iy,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ga(l,0,t.nextSibling)),a?t.setAttribute(Du,a):t.removeAttribute(Du),l}function WT(){sy=HT}function kd(t,e,n=!1){return sy(t,e,n)}function zT(t){let e=t._lView;return e[U].type===2?null:(Sv(e)&&(e=e[Ge]),e)}function GT(t){return t.textContent?.replace(/\s/gm,"")}function qT(t){let e=$a(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=GT(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Ga(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Yu(t,e){return t.segmentHeads?.[e]??null}function YT(t,e){let n=t.data,r=n[FT]?.[e]??null;return r===null&&n[Pd]?.[e]&&(r=Fd(t,e)),r}function oy(t,e){return t.data[Pd]?.[e]??null}function Fd(t,e){let n=oy(t,e)??[],r=0;for(let i of n)r+=i[ba]*(i[ry]??1);return r}function qa(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[UT];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var aa="__parameters__";function KT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function QT(t,e,n){return is(()=>{let r=KT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(aa)?c[aa]:Object.defineProperty(c,aa,{value:[]})[aa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ke=NT(QT("Optional"),8);function Yr(t,e){let n=t.hasOwnProperty(ya);return n?t[ya]:null}var Wn=new w(""),ay=new w("",-1),cy=new w(""),Ta=class{get(e,n=Ji){if(n===Ji){let r=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw r.name="NullInjectorError",r}return n}};function Zn(t){return{\u0275providers:t}}function ls(...t){return{\u0275providers:ly(!0,t),\u0275fromNgModule:!0}}function ly(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Nd(e,o=>{let a=o;Ku(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uy(i,s),n}function uy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ld(i,s=>{e(s,r)})}}function Ku(t,e,n,r){if(t=De(t),!t)return!1;let i=null,s=Um(t),o=!s&&Bn(t);if(!s&&!o){let c=t.ngModule;if(s=Um(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Ku(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Nd(s.imports,u=>{Ku(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&uy(l,e)}if(!a){let l=Yr(i)||(()=>new i);e({provide:i,useFactory:l,deps:He},i),e({provide:cy,useValue:i,multi:!0},i),e({provide:Wn,useValue:()=>k(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Ld(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ld(t,e){for(let n of t)Jv(n)&&(n=n.\u0275providers),Array.isArray(n)?Ld(n,e):e(n)}var ZT=Z({provide:String,useValue:Z});function dy(t){return t!==null&&typeof t=="object"&&ZT in t}function JT(t){return!!(t&&t.useExisting)}function XT(t){return!!(t&&t.useFactory)}function Kr(t){return typeof t=="function"}function e0(t){return!!t.useClass}var Ya=new w(""),fa={},t0={},bu;function Vd(){return bu===void 0&&(bu=new Ta),bu}var nt=class{},Xi=class extends nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zu(e,o=>this.processProvider(o)),this.records.set(ay,$r(void 0,this)),i.has("environment")&&this.records.set(nt,$r(void 0,this));let s=this.records.get(Ya);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cy,He,P.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=an(this),r=Xe(void 0),i;try{return e()}finally{an(n),Xe(r)}}get(e,n=Ji,r=P.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Om))return e[Om](this);r=za(r);let i,s=an(this),o=Xe(void 0);try{if(!(r&P.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=o0(e)&&Ha(e);l&&this.injectableDefInScope(l)?c=$r(Qu(e),fa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&P.Self?Vd():this.parent;return n=r&P.Optional&&n===Ji?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Da]=a[Da]||[]).unshift(be(e)),s)throw a;return xT(a,e,"R3InjectorError",this.source)}else throw a}finally{Xe(o),an(s)}}resolveInjectorInitializers(){let e=an(this),n=Xe(void 0),r;try{let i=this.get(Wn,He,P.Self);for(let s of i)s()}finally{an(e),Xe(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=De(e);let n=Kr(e)?e:De(e&&e.provide),r=r0(e);if(!Kr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$r(void 0,fa,!0),i.factory=()=>Gu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===fa&&(n.value=t0,n.value=n.factory()),typeof n.value=="object"&&n.value&&s0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qu(t){let e=Ha(t),n=e!==null?e.factory:Yr(t);if(n!==null)return n;if(t instanceof w)throw new E(204,!1);if(t instanceof Function)return n0(t);throw new E(204,!1)}function n0(t){if(t.length>0)throw new E(204,!1);let n=yT(t);return n!==null?()=>n.factory(t):()=>new t}function r0(t){if(dy(t))return $r(void 0,t.useValue);{let e=hy(t);return $r(e,fa)}}function hy(t,e,n){let r;if(Kr(t)){let i=De(t);return Yr(i)||Qu(i)}else if(dy(t))r=()=>De(t.useValue);else if(XT(t))r=()=>t.useFactory(...Gu(t.deps||[]));else if(JT(t))r=()=>k(De(t.useExisting));else{let i=De(t&&(t.useClass||t.provide));if(i0(t))r=()=>new i(...Gu(t.deps));else return Yr(i)||Qu(i)}return r}function $r(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function i0(t){return!!t.deps}function s0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function o0(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Zu(t,e){for(let n of t)Array.isArray(n)?Zu(n,e):n&&Jv(n)?Zu(n.\u0275providers,e):e(n)}function fn(t,e){t instanceof Xi&&t.assertNotDestroyed();let n,r=an(t),i=Xe(void 0);try{return e()}finally{an(r),Xe(i)}}function a0(t){return typeof t=="function"}var Ju=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function pn(){return py}function py(t){return t.type.prototype.ngOnChanges&&(t.setInput=l0),c0}pn.ngInherit=!0;function c0(){let t=my(this),e=t?.current;if(e){let n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function l0(t,e,n,r,i){let s=this.declaredInputs[r],o=my(t)||u0(t,{previous:zr,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Ju(l&&l.currentValue,n,c===zr),fy(t,e,i,n)}var gy="__ngSimpleChanges__";function my(t){return t[gy]||null}function u0(t,e){return t[gy]=e}var Hm=null;var Ct=function(t,e,n){Hm?.(t,e,n)};function d0(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=py(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function jd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function pa(t,e,n){vy(t,e,3,n)}function ga(t,e,n,r){(t[I]&3)===n&&vy(t,e,n,r)}function Tu(t,e){let n=t[I];(n&3)===e&&(n&=16383,n+=1,t[I]=n)}function vy(t,e,n,r){let i=r!==void 0?t[Br]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Br]+=65536),(a<s||s==-1)&&(h0(t,n,e,c),t[Br]=(t[Br]&4294901760)+c+2),c++}function Wm(t,e){Ct(4,t,e);let n=Be(null);try{e.call(t)}finally{Be(n),Ct(5,t,e)}}function h0(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[I]>>14<t[Br]>>16&&(t[I]&3)===e&&(t[I]+=16384,Wm(a,s)):Wm(a,s)}var Wr=-1,zn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function f0(t){return t instanceof zn}function p0(t){return(t.flags&8)!==0}function g0(t){return(t.flags&16)!==0}function yy(t){return t!==Wr}function Sa(t){return t&32767}function m0(t){return t>>16}function Aa(t,e){let n=m0(t),r=e;for(;n>0;)r=r[Jr],n--;return r}var Xu=!0;function zm(t){let e=Xu;return Xu=t,e}var v0=256,_y=v0-1,wy=5,y0=0,Dt={};function _0(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),r==null&&(r=n[Hi]=y0++);let i=r&_y,s=1<<i;e.data[t+(i>>wy)]|=s}function Ma(t,e){let n=Ey(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,Su(r.data,t),Su(e,null),Su(r.blueprint,null));let i=Ud(t,e),s=t.injectorIndex;if(yy(i)){let o=Sa(i),a=Aa(i,e),c=a[U].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Su(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ey(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ud(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ty(i),r===null)return Wr;if(n++,i=i[Jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Wr}function ed(t,e,n){_0(t,e,n)}function Iy(t,e,n){if(n&P.Optional||t!==void 0)return t;Od(e,"NodeInjector")}function Cy(t,e,n,r){if(n&P.Optional&&r===void 0&&(r=null),!(n&(P.Self|P.Host))){let i=t[Gr],s=Xe(void 0);try{return i?i.get(e,r,n&P.Optional):ey(e,r,n&P.Optional)}finally{Xe(s)}}return Iy(r,e,n)}function Dy(t,e,n,r=P.Default,i){if(t!==null){if(e[I]&2048&&!(r&P.Self)){let o=D0(t,e,n,r,Dt);if(o!==Dt)return o}let s=by(t,e,n,r,Dt);if(s!==Dt)return s}return Cy(e,n,r,i)}function by(t,e,n,r,i){let s=I0(n);if(typeof s=="function"){if(!Fv(e,t,r))return r&P.Host?Iy(i,n,r):Cy(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&P.Optional))Od(n);else return o}finally{Uv()}}else if(typeof s=="number"){let o=null,a=Ey(t,e),c=Wr,l=r&P.Host?e[tt][vt]:null;for((a===-1||r&P.SkipSelf)&&(c=a===-1?Ud(t,e):e[a+8],c===Wr||!qm(r,!1)?a=-1:(o=e[U],a=Sa(c),e=Aa(c,e)));a!==-1;){let u=e[U];if(Gm(s,a,u.data)){let d=w0(a,e,n,o,r,l);if(d!==Dt)return d}c=e[a+8],c!==Wr&&qm(r,e[U].data[a+8]===l)&&Gm(s,a,e)?(o=u,a=Sa(c),e=Aa(c,e)):a=-1}}return i}function w0(t,e,n,r,i,s){let o=e[U],a=o.data[t+8],c=r==null?ss(a)&&Xu:r!=o&&(a.type&3)!==0,l=i&P.Host&&s===a,u=E0(a,o,n,c,l);return u!==null?Qr(e,o,u,a):Dt}function E0(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&ln(f)&&f.type===n)return c}return null}function Qr(t,e,n,r){let i=t[n],s=e.data;if(f0(i)){let o=i;o.resolving&&CT(IT(s[n]));let a=zm(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Xe(o.injectImpl):null,u=Fv(t,r,P.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&d0(n,s[n],e)}finally{l!==null&&Xe(l),zm(a),o.resolving=!1,Uv()}}return i}function I0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hi)?t[Hi]:void 0;return typeof e=="number"?e>=0?e&_y:C0:e}function Gm(t,e,n){let r=1<<t;return!!(n[e+(t>>wy)]&r)}function qm(t,e){return!(t&P.Self)&&!(t&P.Host&&e)}var Un=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dy(this._tNode,this._lView,e,za(r),n)}};function C0(){return new Un(Ye(),ae())}function ni(t){return is(()=>{let e=t.prototype.constructor,n=e[ya]||td(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ya]||td(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function td(t){return Zv(t)?()=>{let e=td(De(t));return e&&e()}:Yr(t)}function D0(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[I]&2048&&!(o[I]&512);){let a=by(s,o,n,r|P.Self,Dt);if(a!==Dt)return a;let c=s.parent;if(!c){let l=o[Dv];if(l){let u=l.get(n,Dt,r);if(u!==Dt)return u}c=Ty(o),o=o[Jr]}s=c}return i}function Ty(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[vt]:null}function Ym(t,e=null,n=null,r){let i=Sy(t,e,n,r);return i.resolveInjectorInitializers(),i}function Sy(t,e=null,n=null,r,i=new Set){let s=[n||He,ls(t)];return r=r||(typeof t=="object"?void 0:be(t)),new Xi(s,e||Vd(),r||null,i)}var Fe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Ym({name:""},i,r,"");{let s=r.name??"";return Ym({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ji,e.NULL=new Ta,e.\u0275prov=D({token:e,providedIn:"any",factory:()=>k(ay)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),b0="ngOriginalError";function Au(t){return t[b0]}var Ht=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Au(e);for(;n&&Au(n);)n=Au(n);return n||null}},Ay=new w("",{providedIn:"root",factory:()=>v(Ht).handleError.bind(void 0)}),ca=new w(""),My=!1,Ny=new w("",{providedIn:"root",factory:()=>My});var nd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wb})`}};function Bd(t){return t instanceof nd?t.changingThisBreaksApplicationSecurity:t}var T0=/^>|^->|<!--|-->|--!>|<!-$/g,S0=/(<|>)/g,A0="\u200B$1\u200B";function M0(t){return t.replace(T0,e=>e.replace(S0,A0))}var Ry=new Map,N0=0;function R0(){return N0++}function x0(t){Ry.set(t[Ua],t)}function O0(t){Ry.delete(t[Ua])}var Km="__ngContext__";function Gn(t,e){Ut(e)?(t[Km]=e[Ua],x0(e)):t[Km]=e}function P0(t){return t.ownerDocument.body}function xy(t){return t instanceof Function?t():t}function la(t){return(t??v(Fe)).get(Ke)==="browser"}var Wt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wt||{}),k0;function $d(t,e){return k0(t,e)}function Hr(t,e,n,r,i){if(r!=null){let s,o=!1;St(r)?s=r:Ut(r)&&(o=!0,r=r[ze]);let a=mt(r);t===0&&n!==null?i==null?Vy(e,n,a):Na(e,n,a,i||null,!0):t===1&&n!==null?Na(e,n,a,i||null,!0):t===2?Uy(e,a,o):t===3&&e.destroyNode(a),s!=null&&J0(e,t,s,n,i)}}function Oy(t,e){return t.createText(e)}function F0(t,e,n){t.setValue(e,n)}function Py(t,e){return t.createComment(M0(e))}function Hd(t,e,n){return t.createElement(e,n)}function L0(t,e){ky(t,e),e[ze]=null,e[vt]=null}function V0(t,e,n,r,i,s){r[ze]=i,r[vt]=e,Ka(t,r,n,1,i,s)}function ky(t,e){Ka(t,e,e[oe],2,null,null)}function j0(t){let e=t[Yi];if(!e)return Mu(t[U],t);for(;e;){let n=null;if(Ut(e))n=e[Yi];else{let r=e[We];r&&(n=r)}if(!n){for(;e&&!e[gt]&&e!==t;)Ut(e)&&Mu(e[U],e),e=e[_e];e===null&&(e=t),Ut(e)&&Mu(e[U],e),n=e&&e[gt]}e=n}}function U0(t,e,n,r){let i=We+r,s=n.length;r>0&&(n[i-1][gt]=e),r<s-We?(e[gt]=n[i],Wv(n,We+r,e)):(n.push(e),e[gt]=null),e[_e]=n;let o=e[ja];o!==null&&n!==o&&B0(o,e);let a=e[qr];a!==null&&a.insertView(t),Bu(e),e[I]|=128}function B0(t,e){let n=t[wa],i=e[_e][_e][tt];e[tt]!==i&&(t[I]|=Id.HasTransplantedViews),n===null?t[wa]=[e]:n.push(e)}function Fy(t,e){let n=t[wa],r=n.indexOf(e);n.splice(r,1)}function rd(t,e){if(t.length<=We)return;let n=We+e,r=t[n];if(r){let i=r[ja];i!==null&&i!==t&&Fy(i,r),e>0&&(t[n-1][gt]=r[gt]);let s=Ia(t,We+e);L0(r[U],r);let o=s[qr];o!==null&&o.detachView(s[U]),r[_e]=null,r[gt]=null,r[I]&=-129}return r}function Ly(t,e){if(!(e[I]&256)){let n=e[oe];n.destroyNode&&Ka(t,e,n,3,null,null),j0(e)}}function Mu(t,e){if(!(e[I]&256)){e[I]&=-129,e[I]|=256,e[$n]&&im(e[$n]),H0(t,e),$0(t,e),e[U].type===1&&e[oe].destroy();let n=e[ja];if(n!==null&&St(e[_e])){n!==e[_e]&&Fy(n,e);let r=e[qr];r!==null&&r.detachView(t)}O0(e)}}function $0(t,e){let n=t.cleanup,r=e[qi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[qi]=null);let i=e[Wi];if(i!==null){e[Wi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function H0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zn)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Ct(4,a,c);try{c.call(a)}finally{Ct(5,a,c)}}else{Ct(4,i,s);try{s.call(i)}finally{Ct(5,i,s)}}}}}function W0(t,e,n){return z0(t,e.parent,n)}function z0(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ze];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===bt.None||s===bt.Emulated)return null}return it(r,n)}}function Na(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Vy(t,e,n){t.appendChild(e,n)}function Qm(t,e,n,r,i){r!==null?Na(t,e,n,r,i):Vy(t,e,n)}function G0(t,e,n,r){t.removeChild(e,n,r)}function Wd(t,e){return t.parentNode(e)}function q0(t,e){return t.nextSibling(e)}function Y0(t,e,n){return Q0(t,e,n)}function K0(t,e,n){return t.type&40?it(t,n):null}var Q0=K0,Zm;function zd(t,e,n,r){let i=W0(t,r,e),s=e[oe],o=r.parent||e[vt],a=Y0(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Qm(s,i,n[c],a,!1);else Qm(s,i,n,a,!1);Zm!==void 0&&Zm(s,r,e,n,i)}function ma(t,e){if(e!==null){let n=e.type;if(n&3)return it(e,t);if(n&4)return id(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ma(t,r);{let i=t[e.index];return St(i)?id(-1,i):mt(i)}}else{if(n&32)return $d(e,t)()||mt(t[e.index]);{let r=jy(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zi(t[tt]);return ma(i,r)}else return ma(t,e.next)}}}return null}function jy(t,e){if(e!==null){let r=t[tt][vt],i=e.projection;return r.projection[i]}return null}function id(t,e){let n=We+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return ma(r,i)}return e[$t]}function Uy(t,e,n){let r=Wd(t,e);r&&G0(t,r,e,n)}function By(t){t.textContent=""}function Gd(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Gn(mt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Gd(t,e,n.child,r,i,s,!1),Hr(e,t,i,a,s);else if(c&32){let l=$d(n,r),u;for(;u=l();)Hr(e,t,i,u,s);Hr(e,t,i,a,s)}else c&16?Z0(t,e,r,n,i,s):Hr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ka(t,e,n,r,i,s){Gd(n,r,t.firstChild,e,i,s,!1)}function Z0(t,e,n,r,i,s){let o=n[tt],c=o[vt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Hr(e,t,i,u,s)}else{let l=c,u=o[_e];Ca(r)&&(l.flags|=128),Gd(t,e,l,u,i,s,!0)}}function J0(t,e,n,r,i){let s=n[$t],o=mt(n);s!==o&&Hr(e,t,r,s,i);for(let a=We;a<n.length;a++){let c=n[a];Ka(c[U],c,t,e,r,s)}}function X0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Wt.Important),t.setStyle(n,r,i,s))}}function eS(t,e,n){t.setAttribute(e,"style",n)}function $y(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hy(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Uu(t,e,r),i!==null&&$y(t,e,i),s!==null&&eS(t,e,s)}var ri={};function At(t=1){Wy(st(),ae(),Xr()+t,!1)}function Wy(t,e,n,r){if(!r)if((e[I]&3)===3){let s=t.preOrderCheckHooks;s!==null&&pa(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ga(e,s,0,n)}Hn(n)}function q(t,e=P.Default){let n=ae();if(n===null)return k(t,e);let r=Ye();return Dy(r,n,De(t),e)}function zy(t,e,n,r,i,s){let o=Be(null);try{let a=null;i&et.SignalBased&&(a=e[r][Ql]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&et.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):fy(e,a,r,s)}finally{Be(o)}}function tS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hn(~i);else{let s=i,o=n[++r],a=n[++r];sT(o,s);let c=e[s];a(2,c)}}}finally{Hn(-1)}}function Qa(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[ze]=i,d[I]=r|4|128|8|64,(l!==null||t&&t[I]&2048)&&(d[I]|=2048),Rv(d),d[_e]=d[Jr]=t,d[Tt]=n,d[cn]=o||t&&t[cn],d[oe]=a||t&&t[oe],d[Gr]=c||t&&t[Gr]||null,d[vt]=s,d[Ua]=R0(),d[Bt]=u,d[Dv]=l,d[tt]=e.type==2?t[tt]:d,d}function Za(t,e,n,r,i){let s=t.data[e];if(s===null)s=nS(t,e,n,r,i),iT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eT();s.injectorIndex=o===null?-1:o.injectorIndex}return as(s,!0),s}function nS(t,e,n,r,i){let s=Ov(),o=Pv(),a=o?s:s&&s.parent,c=t.data[e]=cS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Gy(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qy(t,e,n,r,i){let s=Xr(),o=r&2;try{Hn(-1),o&&e.length>Ge&&Wy(t,e,Ge,!1),Ct(o?2:0,i),n(r,i)}finally{Hn(s),Ct(o?3:1,i)}}function Yy(t,e,n){if(Tv(e)){let r=Be(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Be(r)}}}function Ky(t,e,n){xv()&&(pS(t,e,n,it(n,e)),(n.flags&64)===64&&n_(t,e,n))}function Qy(t,e,n=it){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Zy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qd(t,e,n,r,i,s,o,a,c,l,u){let d=Ge+r,h=d+i,f=rS(d,h),g=typeof l=="function"?l():l;return f[U]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function rS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}function iS(t,e,n,r){let s=r.get(Ny,My)||n===bt.ShadowDom,o=t.selectRootElement(e,s);return sS(o),o}function sS(t){Jy(t)}var Jy=()=>null;function oS(t){Gv(t)?By(t):qT(t)}function aS(){Jy=oS}function cS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return os()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jm(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=et.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Xm(r,n,l,a,c):Xm(r,n,l,a)}return r}function Xm(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function lS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=Jm(0,d.inputs,u,c,f),l=Jm(1,d.outputs,u,l,g);let y=c!==null&&o!==null&&!vv(e)?CS(c,u,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function uS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xy(t,e,n,r,i,s,o,a){let c=it(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Yd(t,n,u,r,i),ss(e)&&dS(n,e.index)):e.type&3?(r=uS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function dS(t,e){let n=dn(e,t);n[I]&16||(n[I]|=64)}function e_(t,e,n,r){if(xv()){let i=r===null?null:{"":-1},s=mS(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&t_(t,e,n,o,i,a),i&&vS(n,r,i)}n.mergedAttrs=Gi(n.mergedAttrs,n.attrs)}function t_(t,e,n,r,i,s){for(let l=0;l<r.length;l++)ed(Ma(n,e),t,r[l].type);_S(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Gy(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Gi(n.mergedAttrs,u.hostAttrs),wS(t,n,e,c,u),yS(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}lS(t,n,s)}function hS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fS(o)!=a&&o.push(a),o.push(n,r,s)}}function fS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pS(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ss(n)&&ES(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ma(n,e),Gn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Qr(e,t,a,n);if(Gn(l,e),o!==null&&IS(e,a-i,l,c,n,o),ln(c)){let u=dn(n.index,e);u[Tt]=Qr(e,t,a,n)}}}function n_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=oT();try{Hn(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];$u(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gS(c,l)}}finally{Hn(-1),$u(o)}}function gS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(xb(e,o.selectors,!1))if(r||(r=[]),ln(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;sd(t,e,c)}else r.unshift(o),sd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function sd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new E(-301,!1);r.push(e[i],s)}}}function yS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ln(e)&&(n[""]=t)}}function _S(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wS(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Yr(i.type,!0)),o=new zn(s,ln(i),q);t.blueprint[r]=o,n[r]=o,hS(t,e,r,Gy(t,n,i.hostVars,ri),i)}function ES(t,e,n){let r=it(e,t),i=Zy(n),s=t[cn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ja(t,Qa(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function IS(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];zy(r,n,c,l,u,d)}}function CS(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function r_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function i_(t,e){let n=t.contentQueries;if(n!==null){let r=Be(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];kv(s),a.contentQueries(2,e[o],o)}}}finally{Be(r)}}}function Ja(t,e){return t[Yi]?t[Vm][gt]=e:t[Yi]=e,t[Vm]=e,e}function od(t,e,n){kv(0);let r=Be(null);try{e(t,n)}finally{Be(r)}}function DS(t){return t[qi]||(t[qi]=[])}function bS(t){return t.cleanup||(t.cleanup=[])}function s_(t,e){let n=t[Gr],r=n?n.get(Ht,null):null;r&&r.handleError(e)}function Yd(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];zy(u,l,r,a,c,i)}}function TS(t,e,n){let r=Mv(e,t);F0(t[oe],r,n)}function SS(t,e){let n=dn(e,t),r=n[U];AS(r,n);let i=n[ze];i!==null&&n[Bt]===null&&(n[Bt]=kd(i,n[Gr])),Kd(r,n,n[Tt])}function AS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kd(t,e,n){Sd(e);try{let r=t.viewQuery;r!==null&&od(1,r,n);let i=t.template;i!==null&&qy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qr]?.finishViewCreation(t),t.staticContentQueries&&i_(t,e),t.staticViewQueries&&od(2,t.viewQuery,n);let s=t.components;s!==null&&MS(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[I]&=-5,Ad()}}function MS(t,e){for(let n=0;n<e.length;n++)SS(t,e[n])}function NS(t,e,n,r){let i=e.tView,o=t[I]&4096?4096:16,a=Qa(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[ja]=c;let l=t[qr];return l!==null&&(a[qr]=l.createEmbeddedView(i)),Kd(i,a,n),a}function ev(t,e){return!e||e.firstChild===null||Ca(t)}function RS(t,e,n,r=!0){let i=e[U];if(U0(i,e,t,n),r){let o=id(n,t),a=e[oe],c=Wd(a,t[$t]);c!==null&&V0(i,t[vt],a,e,c,o)}let s=e[Bt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ra(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(mt(s)),St(s)&&xS(s,r);let o=n.type;if(o&8)Ra(t,e,n.child,r);else if(o&32){let a=$d(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=jy(e,n);if(Array.isArray(a))r.push(...a);else{let c=Zi(e[tt]);Ra(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xS(t,e){for(let n=We;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&Ra(r[U],r,i,e)}t[$t]!==t[ze]&&e.push(t[$t])}var o_=[];function OS(t){return t[$n]??PS(t)}function PS(t){let e=o_.pop()??Object.create(FS);return e.lView=t,e}function kS(t){t.lView[$n]!==t&&(t.lView=null,o_.push(t))}var FS=G(_({},tm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qi(t.lView)},consumerOnSignalRead(){this.lView[$n]=this}});function a_(t){return l_(t[Yi])}function c_(t){return l_(t[gt])}function l_(t){for(;t!==null&&!St(t);)t=t[gt];return t}var u_=100;function d_(t,e=!0,n=0){let r=t[cn],i=r.rendererFactory,s=!1;s||i.begin?.();try{LS(t,n)}catch(o){throw e&&s_(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function LS(t,e){ad(t,e);let n=0;for(;bd(t);){if(n===u_)throw new E(103,!1);n++,ad(t,1)}}function VS(t,e,n,r){let i=e[I];if((i&256)===256)return;let s=!1;!s&&e[cn].inlineEffectRunner?.flush(),Sd(e);let o=null,a=null;!s&&jS(t)&&(a=OS(e),o=nm(a));try{Rv(e),nT(t.bindingStartIndex),n!==null&&qy(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&pa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ga(e,d,0,null),Tu(e,0)}if(US(e),h_(e,0),t.contentQueries!==null&&i_(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&pa(e,d)}else{let d=t.contentHooks;d!==null&&ga(e,d,1),Tu(e,1)}tS(t,e);let l=t.components;l!==null&&p_(e,l,0);let u=t.viewQuery;if(u!==null&&od(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&pa(e,d)}else{let d=t.viewHooks;d!==null&&ga(e,d,2),Tu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Iu]){for(let d of e[Iu])d();e[Iu]=null}s||(e[I]&=-73)}catch(c){throw Qi(e),c}finally{a!==null&&(rm(a,o),kS(a)),Ad()}}function jS(t){return t.type!==2}function h_(t,e){for(let n=a_(t);n!==null;n=c_(n))for(let r=We;r<n.length;r++){let i=n[r];f_(i,e)}}function US(t){for(let e=a_(t);e!==null;e=c_(e)){if(!(e[I]&Id.HasTransplantedViews))continue;let n=e[wa];for(let r=0;r<n.length;r++){let i=n[r],s=i[_e];zb(i)}}}function BS(t,e,n){let r=dn(e,t);f_(r,n)}function f_(t,e){Dd(t)&&ad(t,e)}function ad(t,e){let r=t[U],i=t[I],s=t[$n],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Zl(s)),s&&(s.dirty=!1),t[I]&=-9217,o)VS(r,t,r.template,t[Tt]);else if(i&8192){h_(t,1);let a=r.components;a!==null&&p_(t,a,1)}}function p_(t,e,n){for(let r=0;r<e.length;r++)BS(t,e[r],n)}function Qd(t){for(t[cn].changeDetectionScheduler?.notify();t;){t[I]|=64;let e=Zi(t);if(Sv(t)&&!e)return t;t=e}return null}var qn=class{get rootNodes(){let e=this._lView,n=e[U];return Ra(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return(this._lView[I]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_e];if(St(e)){let n=e[_a],r=n?n.indexOf(this):-1;r>-1&&(rd(e,r),Ia(n,r))}this._attachedToViewContainer=!1}Ly(this._lView[U],this._lView)}onDestroy(e){qb(this._lView,e)}markForCheck(){Qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[I]&=-129}reattach(){Bu(this._lView),this._lView[I]|=128}detectChanges(){this._lView[I]|=1024,d_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ky(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e,Bu(this._lView)}},Zd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WS;let t=e;return t})(),$S=Zd,HS=class extends $S{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=NS(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new qn(i)}};function WS(){return zS(Ye(),ae())}function zS(t,e){return t.type&4?new HS(e,t,Ba(t,e)):null}function g_(t){let e=t[Ki]??[],r=t[_e][oe];for(let i of e)GS(i,r);t[Ki]=He}function GS(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ba];for(;n<i;){let s=r.nextSibling;Uy(e,r,!1),r=s,n++}}}function m_(t){g_(t);for(let e=We;e<t.length;e++)xa(t[e])}function xa(t){let e=t[U];for(let n=Ge;n<e.bindingStartIndex;n++)if(St(t[n])){let r=t[n];m_(r)}else Ut(t[n])&&xa(t[n])}function qS(t){let e=t._views;for(let n of e){let r=zT(n);if(r!==null&&r[ze]!==null)if(Ut(r))xa(r);else{let i=r[ze];xa(i),m_(r)}}}var YS=new RegExp(`^(\\d+)*(${ny}|${ty})*(.*)`);function KS(t){let e=t.match(YS),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,l,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[o,...a]}function QS(t){return!t.prev&&t.parent?.type===8}function Nu(t){return t.index-Ge}function Xa(t,e,n,r){let i=null,s=Nu(r),o=t.data[jT];if(o?.[s])i=JS(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(QS(r)){let l=Nu(r.parent);i=Yu(t,l)}else{let l=it(c,n);if(a)i=l.firstChild;else{let u=Nu(c),d=Yu(t,u);if(c.type===2&&d){let f=Fd(t,u)+1;i=ec(f,d)}else i=l.nextSibling}}}return i}function ec(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function ZS(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case qu.FirstChild:n=n.firstChild;break;case qu.NextSibling:n=n.nextSibling;break}}return n}function JS(t,e){let[n,...r]=KS(t),i;if(n===ty)i=e[tt][ze];else if(n===ny)i=P0(e[tt][ze]);else{let s=Number(n);i=mt(e[s+Ge])}return ZS(i,r)}function XS(t,e){let n=[];for(let r of e)for(let i=0;i<(r[ry]??1);i++){let s={data:r,firstChild:null};r[ba]>0&&(s.firstChild=t,t=ec(r[ba],t)),n.push(s)}return[t,n]}var v_=()=>null;function eA(t,e){let n=t[Ki];return!e||n===null||n.length===0?null:n[0].data[VT]===e?n.shift():(g_(t),null)}function tA(){v_=eA}function tv(t,e){return v_(t,e)}var cd=class{},ld=class{},Oa=class{};function nA(t){let e=Error(`No component factory found for ${be(t)}.`);return e[rA]=t,e}var rA="ngComponent";var ud=class{resolveComponentFactory(e){throw nA(e)}},tc=(()=>{let e=class e{};e.NULL=new ud;let t=e;return t})(),es=class{},ii=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>iA();let t=e;return t})();function iA(){let t=ae(),e=Ye(),n=dn(e.index,t);return(Ut(n)?n:t)[oe]}var sA=(()=>{let e=class e{};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ru={};function oA(t){return typeof t=="function"&&t[Ql]!==void 0}var nv=new Set;function us(t){nv.has(t)||(nv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function y_(t){return oA(t)&&typeof t.set=="function"}var Jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aA;let t=e;return t})();function aA(t){return cA(Ye(),ae(),(t&16)===16)}function cA(t,e,n){if(ss(t)&&!n){let r=dn(t.index,e);return new qn(r,r)}else if(t.type&47){let r=e[tt];return new qn(r,e)}return null}function rv(...t){}function lA(){let t=typeof $i.requestAnimationFrame=="function",e=$i[t?"requestAnimationFrame":"setTimeout"],n=$i[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lA().nativeRequestAnimationFrame,hA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,uA,rv,rv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uA={};function Jd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($i,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dd(t))}function hA(t){let e=()=>{dA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(fA(a))return n.invokeTask(i,s,o,a);try{return iv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return iv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),sv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dd(t),Jd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function iv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sv(t){t._nesting--,Jd(t)}function fA(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var __=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function hd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=xm(i,a);else if(s==2){let c=a,l=e[++o];r=xm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Pa=class extends tc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Bn(e);return new ts(n,this.ngModule)}};function ov(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function pA(t){let e=t.toLowerCase();return e==="svg"?Av:e==="math"?Bb:null}var fd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=za(r);let i=this.injector.get(e,Ru,r);return i!==Ru||n===Ru?i:this.parentInjector.get(e,n,r)}},ts=class extends Oa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ov(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ov(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Fb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new fd(e,s):e,a=o.get(es,null);if(a===null)throw new E(407,!1);let c=o.get(sA,null),l=o.get(__,null),u=o.get(cd,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?iS(h,r,this.componentDef.encapsulation,o):Hd(h,f,pA(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;g!==null&&(b=kd(g,o,!0));let C=qd(0,null,null,1,0,null,null,null,null,null,null),ee=Qa(null,C,null,y,null,null,d,h,o,null,b);Sd(ee);let me,Ie;try{let Me=this.componentDef,Ne,Xt=null;Me.findHostDirectiveDefs?(Ne=[],Xt=new Map,Me.findHostDirectiveDefs(Me,Ne,Xt),Ne.push(Me)):Ne=[Me];let Yl=gA(ee,g),Vi=mA(Yl,g,Me,Ne,ee,d,h);Ie=Nv(C,Ge),g&&_A(h,Me,g,r),n!==void 0&&wA(Ie,this.ngContentSelectors,n),me=yA(Vi,Me,Ne,Xt,ee,[EA]),Kd(C,ee,null)}finally{Ad()}return new pd(this.componentType,me,Ba(Ie,ee),ee,Ie)}},pd=class extends ld{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Yd(s[U],s,i,e,n),this.previousInputValues.set(e,n);let o=dn(this._tNode.index,s);Qd(o)}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gA(t,e){let n=t[U],r=Ge;return t[r]=e,Za(n,r,2,"#host",null)}function mA(t,e,n,r,i,s,o){let a=i[U];vA(r,t,e,o);let c=null;e!==null&&(c=kd(e,i[Gr]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Qa(i,Zy(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&sd(a,t,r.length-1),Ja(i,d),i[t.index]=d}function vA(t,e,n,r){for(let i of t)e.mergedAttrs=Gi(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hd(e,e.mergedAttrs,!0),n!==null&&Hy(r,n,e))}function yA(t,e,n,r,i,s){let o=Ye(),a=i[U],c=it(o,i);t_(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Qr(i,a,d,o);Gn(h,i)}n_(a,i,o),c&&Gn(c,i);let l=Qr(i,a,o.directiveStart+o.componentOffset,o);if(t[Tt]=i[Tt]=l,s!==null)for(let u of s)u(l,e);return Yy(a,o,i),l}function _A(t,e,n,r){if(r)Uu(t,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:s}=Lb(e.selectors[0]);i&&Uu(t,n,i),s&&s.length>0&&$y(t,n,s.join(" "))}}function wA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function EA(){let t=Ye();jd(ae()[U],t)}var ds=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IA;let t=e;return t})();function IA(){let t=Ye();return DA(t,ae())}var CA=ds,w_=class extends CA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ud(this._hostTNode,this._hostLView);if(yy(e)){let n=Aa(e,this._hostLView),r=Sa(e),i=n[U].data[r+8];return new Un(i,n)}else return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=av(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-We}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=tv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ev(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!a0(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new ts(Bn(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?l:this.parentInjector).get(nt,null);y&&(s=y)}let u=Bn(c.componentType??{}),d=tv(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,s);return this.insertImpl(f.hostView,a,ev(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Wb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[_e],l=new w_(c,c[vt],c[_e]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return RS(o,i,s,r),e.attachToViewContainerRef(),Wv(xu(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=av(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rd(this._lContainer,n);r&&(Ia(xu(this._lContainer),n),Ly(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=rd(this._lContainer,n);return r&&Ia(xu(this._lContainer),n)!=null?new qn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function av(t){return t[_a]}function xu(t){return t[_a]||(t[_a]=[])}function DA(t,e){let n,r=e[t.index];return St(r)?n=r:(n=r_(r,e,null,t),e[t.index]=n,Ja(e,n)),E_(n,e,t,r),new w_(n,t,e)}function bA(t,e){let n=t[oe],r=n.createComment(""),i=it(e,t),s=Wd(n,i);return Na(n,s,r,q0(n,i),!1),r}var E_=I_,Xd=()=>!1;function TA(t,e,n){return Xd(t,e,n)}function I_(t,e,n,r){if(t[$t])return;let i;n.type&8?i=mt(r):i=bA(e,n),t[$t]=i}function SA(t,e,n){if(t[$t]&&t[Ki])return!0;let r=n[Bt],i=e.index-Ge;if(!r||vT(e)||qa(r,i))return!1;let o=Yu(r,i),a=r.data[Pd]?.[i],[c,l]=XS(o,a);return t[$t]=c,t[Ki]=l,!0}function AA(t,e,n,r){Xd(t,n,e)||I_(t,e,n,r)}function MA(){E_=AA,Xd=SA}function NA(t){return Object.getPrototypeOf(t.prototype).constructor}function Xn(t){let e=NA(t.type),n=!0,r=[t];for(;e;){let i;if(ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ua(t.inputs),o.inputTransforms=ua(t.inputTransforms),o.declaredInputs=ua(t.declaredInputs),o.outputs=ua(t.outputs);let a=i.hostBindings;a&&kA(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&OA(t,c),l&&PA(t,l),RA(t,i),Eb(t.outputs,i.outputs),ln(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Xn&&(n=!1)}}e=Object.getPrototypeOf(e)}xA(r)}function RA(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function xA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gi(i.hostAttrs,n=Gi(n,i.hostAttrs))}}function ua(t){return t===zr?{}:t===He?[]:t}function OA(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function PA(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function kA(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var un=class{},ns=class{};var gd=class extends un{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pa(this);let i=Ev(e);this._bootstrapComponents=xy(i.bootstrap),this._r3Injector=Sy(e,n,[{provide:un,useValue:this},{provide:tc,useValue:this.componentFactoryResolver},...r],be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},md=class extends ns{constructor(e){super(),this.moduleType=e}create(e){return new gd(this.moduleType,e,[])}};var ka=class extends un{constructor(e){super(),this.componentFactoryResolver=new Pa(this),this.instance=null;let n=new Xi([...e.providers,{provide:un,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],e.parent||Vd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function eh(t,e,n=null){return new ka({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var hs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nc(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function FA(t,e,n,r,i,s,o,a,c){let l=e.consts,u=Za(e,t,4,o||null,Ea(l,a));e_(e,n,u,Ea(l,c)),jd(e,u);let d=u.tView=qd(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function th(t,e,n,r,i,s,o,a){let c=ae(),l=st(),u=t+Ge,d=l.firstCreatePass?FA(u,l,c,e,n,r,i,s,o):l.data[u];as(d,!1);let h=C_(l,c,d,t);Md()&&zd(l,c,h,d),Gn(h,c);let f=r_(h,c,h,d);return c[u]=f,Ja(c,f),TA(f,d,c),Cd(d)&&Ky(l,c,d),o!=null&&Qy(c,d,a),th}var C_=D_;function D_(t,e,n,r){return hn(!0),e[oe].createComment("")}function LA(t,e,n,r){let i=e[Bt],s=!i||os()||qa(i,r);if(hn(s),s)return D_(t,e,n,r);let o=i.data[LT]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Xa(i,t,e,n);Ga(i,r,a);let c=Fd(i,r);return ec(c,a)}function VA(){C_=LA}function jA(t,e,n,r){return nc(t,Td(),n)?e+Xv(n)+r:ri}function da(t,e){return t<<17|e<<2}function Yn(t){return t>>17&32767}function UA(t){return(t&2)==2}function BA(t,e){return t&131071|e<<17}function vd(t){return t|2}function Zr(t){return(t&131068)>>2}function Ou(t,e){return t&-131069|e<<2}function $A(t){return(t&1)===1}function yd(t){return t|1}function HA(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yn(o),c=Zr(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||cs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Yn(t[a+1]);t[r+1]=da(h,a),h!==0&&(t[h+1]=Ou(t[h+1],r)),t[a+1]=BA(t[a+1],r)}else t[r+1]=da(a,0),a!==0&&(t[a+1]=Ou(t[a+1],r)),a=r;else t[r+1]=da(c,0),a===0?a=r:t[c+1]=Ou(t[c+1],r),c=r;l&&(t[r+1]=vd(t[r+1])),cv(t,u,r,!0),cv(t,u,r,!1),WA(e,u,t,r,s),o=da(a,c),s?e.classBindings=o:e.styleBindings=o}function WA(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&cs(s,e)>=0&&(n[r+1]=yd(n[r+1]))}function cv(t,e,n,r){let i=t[n+1],s=e===null,o=r?Yn(i):Zr(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];zA(c,e)&&(a=!0,t[o+1]=r?yd(l):vd(l)),o=r?Yn(l):Zr(l)}a&&(t[n+1]=r?vd(i):yd(i))}function zA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cs(t,e)>=0:!1}function rc(t,e,n){let r=ae(),i=Td();if(nc(r,i,e)){let s=st(),o=Bv();Xy(s,o,r,t,e,r[oe],n,!1)}return rc}function lv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Yd(t,n,s[o],o,r)}function nh(t,e){return GA(t,e,null,!0),nh}function GA(t,e,n,r){let i=ae(),s=st(),o=rT(2);if(s.firstUpdatePass&&YA(s,t,o,r),e!==ri&&nc(i,o,e)){let a=s.data[Xr()];XA(s,a,i,i[oe],t,i[o+1]=eM(e,n),r,o)}}function qA(t,e){return e>=t.expandoStartIndex}function YA(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Xr()],o=qA(t,n);tM(s,r)&&e===null&&!o&&(e=!1),e=KA(i,s,e,r),HA(i,s,e,n,o,r)}}function KA(t,e,n,r){let i=aT(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pu(null,t,e,n,r),n=rs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Pu(i,t,e,n,r),s===null){let c=QA(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Pu(null,t,e,c[1],r),c=rs(c,e.attrs,r),ZA(t,e,r,c))}else s=JA(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function QA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Zr(r)!==0)return t[Yn(r)]}function ZA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yn(i)]=r}function JA(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=rs(r,o,n)}return rs(r,e.attrs,n)}function Pu(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=rs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function rs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fT(t,o,n?!0:e[++s]))}return t===void 0?null:t}function XA(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=$A(l)?uv(c,e,n,i,Zr(l),o):void 0;if(!Fa(u)){Fa(s)||UA(l)&&(s=uv(c,null,n,i,a,o));let d=Mv(Xr(),n);X0(r,o,d,i,s)}}function uv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===ri&&(h=d?He:void 0);let f=d?Cu(h,r):u===r?h:void 0;if(l&&!Fa(f)&&(f=Cu(c,r)),Fa(f)&&(a=f,o))return a;let g=t[i+1];i=o?Yn(g):Zr(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Cu(c,r))}return a}function Fa(t){return t!==void 0}function eM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=be(Bd(t)))),t}function tM(t,e){return(t.flags&(e?8:16))!==0}function nM(t,e,n,r,i,s){let o=e.consts,a=Ea(o,i),c=Za(e,t,2,r,a);return e_(e,n,c,Ea(o,s)),c.attrs!==null&&hd(c,c.attrs,!1),c.mergedAttrs!==null&&hd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function A(t,e,n,r){let i=ae(),s=st(),o=Ge+t,a=i[oe],c=s.firstCreatePass?nM(o,s,i,e,n,r):s.data[o],l=b_(s,i,c,a,e,t);i[o]=l;let u=Cd(c);return as(c,!0),Hy(a,l,c),(c.flags&32)!==32&&Md()&&zd(s,i,l,c),Yb()===0&&Gn(l,i),Kb(),u&&(Ky(s,i,c),Yy(s,c,i)),r!==null&&Qy(i,c),A}function F(){let t=Ye();Pv()?tT():(t=t.parent,as(t,!1));let e=t;Zb(e)&&Xb(),Qb();let n=st();return n.firstCreatePass&&(jd(n,t),Tv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&p0(e)&&lv(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&g0(e)&&lv(n,e,ae(),e.stylesWithoutHost,!1),F}function de(t,e,n,r){return A(t,e,n,r),F(),de}var b_=(t,e,n,r,i,s)=>(hn(!0),Hd(r,i,$v()));function rM(t,e,n,r,i,s){let o=e[Bt],a=!o||os()||qa(o,s);if(hn(a),a)return Hd(r,i,$v());let c=Xa(o,t,e,n);return oy(o,s)&&Ga(o,s,c.nextSibling),o&&(zv(n)||Gv(c))&&ss(n)&&(Jb(n),By(c)),c}function iM(){b_=rM}var sM=(t,e,n,r)=>(hn(!0),Py(e[oe],""));function oM(t,e,n,r){let i,s=e[Bt],o=!s||os();if(hn(o),o)return Py(e[oe],"");let a=Xa(s,t,e,n),c=YT(s,r);return Ga(s,r,a),i=ec(c,a),i}function aM(){sM=oM}var La="en-US";var cM=La;function lM(t){typeof t=="string"&&(cM=t.toLowerCase().replace(/_/g,"-"))}function ce(t,e,n,r){let i=ae(),s=st(),o=Ye();return T_(s,i,i[oe],o,t,e,r),ce}function uM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[qi],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function T_(t,e,n,r,i,s,o){let a=Cd(r),l=t.firstCreatePass&&bS(t),u=e[Tt],d=DS(e),h=!0;if(r.type&3||o){let y=it(r,e),b=o?o(y):y,C=d.length,ee=o?Ie=>o(mt(Ie[r.index])):r.index,me=null;if(!o&&a&&(me=uM(t,e,i,r.index)),me!==null){let Ie=me.__ngLastListenerFn__||me;Ie.__ngNextListenerFn__=s,me.__ngLastListenerFn__=s,h=!1}else{s=hv(r,e,u,s,!1);let Ie=n.listen(b,i,s);d.push(s,Ie),l&&l.push(i,ee,C,C+1)}}else s=hv(r,e,u,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let b=0;b<y;b+=2){let C=g[b],ee=g[b+1],Me=e[C][ee].subscribe(s),Ne=d.length;if(d.push(s,Me),l){let Xt=typeof Me=="function"?Ne+1:-(Ne+1);l.push(i,r.index,Ne,Xt)}}}}function dv(t,e,n,r){try{return Ct(6,e,n),n(r)!==!1}catch(i){return s_(t,i),!1}finally{Ct(7,e,n)}}function hv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?dn(t.index,e):e;Qd(a);let c=dv(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=dv(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function S_(t=1){return lT(t)}function X(t,e=""){let n=ae(),r=st(),i=t+Ge,s=r.firstCreatePass?Za(r,i,1,e,null):r.data[i],o=A_(r,n,s,e,t);n[i]=o,Md()&&zd(r,n,o,s),as(s,!1)}var A_=(t,e,n,r,i)=>(hn(!0),Oy(e[oe],r));function dM(t,e,n,r,i){let s=e[Bt],o=!s||os()||qa(s,i);return hn(o),o?Oy(e[oe],r):Xa(s,t,e,n)}function hM(){A_=dM}function fs(t){return ic("",t,""),fs}function ic(t,e,n){let r=ae(),i=jA(r,t,e,n);return i!==ri&&TS(r,Xr(),i),ic}function ps(t,e,n){y_(e)&&(e=e());let r=ae(),i=Td();if(nc(r,i,e)){let s=st(),o=Bv();Xy(s,o,r,t,e,r[oe],n,!1)}return ps}function sc(t,e){let n=y_(t);return n&&t.set(e),n}function gs(t,e){let n=ae(),r=st(),i=Ye();return T_(r,n,n[oe],i,t,e),gs}function fM(t,e,n){let r=st();if(r.firstCreatePass){let i=ln(t);_d(n,r.data,r.blueprint,i,!0),_d(e,r.data,r.blueprint,i,!1)}}function _d(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let s=0;s<t.length;s++)_d(t[s],e,n,r,i);else{let s=st(),o=ae(),a=Ye(),c=Kr(t)?t:De(t.provide),l=hy(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Kr(t)||!t.multi){let f=new zn(l,i,q),g=Fu(c,e,i?u:u+h,d);g===-1?(ed(Ma(a,o),s,c),ku(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=Fu(c,e,u+h,d),g=Fu(c,e,u,u+h),y=f>=0&&n[f],b=g>=0&&n[g];if(i&&!b||!i&&!y){ed(Ma(a,o),s,c);let C=mM(i?gM:pM,n.length,i,r,l);!i&&b&&(n[g].providerFactory=C),ku(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=M_(n[i?g:f],l,!i&&r);ku(s,t,f>-1?f:g,C)}!i&&r&&b&&n[g].componentProviders++}}}function ku(t,e,n,r){let i=Kr(e),s=e0(e);if(i||s){let c=(s?De(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function M_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pM(t,e,n,r){return wd(this.multi,[])}function gM(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Qr(n,n[U],this.providerFactory.index,r);s=a.slice(0,o),wd(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],wd(i,s);return s}function wd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mM(t,e,n,r,i){let s=new zn(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,M_(s,i,r&&!n),s}function si(t,e=[]){return n=>{n.providersResolver=(r,i)=>fM(r,i?i(t):t,e)}}var vM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ly(!1,r.type),s=i.length>0?eh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(k(nt))});let t=e;return t})();function ot(t){us("NgStandalone"),t.getStandaloneInjector=e=>e.get(vM).getOrCreateStandaloneInjector(t)}var zt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},N_=new zt("17.2.3"),oc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var R_=new w("");function er(t){return!!t&&typeof t.then=="function"}function x_(t){return!!t&&typeof t.subscribe=="function"}var O_=new w(""),P_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(O_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(er(o))r.push(o);else if(x_(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oi=new w("");function yM(){sm(()=>{throw new E(600,!1)})}function _M(t){return t.isBoundToModule}function wM(t,e,n){try{let r=n();return er(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var gn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Ay),this.afterRenderEffectManager=v(__),this.componentTypes=[],this.components=[],this.isStable=v(hs).hasPendingTasks.pipe(j(r=>!r)),this._injector=v(nt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Oa;if(!this._injector.get(P_).done){let f=!s&&wv(r),g=!1;throw new E(405,g)}let a;s?a=r:a=this._injector.get(tc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=_M(a)?void 0:this._injector.get(un),l=i||a.selector,u=a.create(Fe.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(R_,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Lu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===u_)throw new E(103,!1);let s=r===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Vu(o)||this.detectChangesInView(o,a,s);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Vu(o))&&(i.execute(),!this._views.some(({_lView:o})=>Vu(o))))break}}detectChangesInView(r,i,s){let o;s?(o=0,r[I]|=1024):r[I]&64?o=0:o=1,d_(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Lu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(oi,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Lu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new E(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ha;function rh(t){ha??=new WeakMap;let e=ha.get(t);if(e)return e;let n=t.isStable.pipe(ft(r=>r)).toPromise().then(()=>{});return ha.set(t,n),t.onDestroy(()=>ha?.delete(t)),n}function Vu(t){return bd(t)}var Ed=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ih=(()=>{let e=class e{compileModuleSync(r){return new md(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Ev(r),o=xy(s.declarations).reduce((a,c)=>{let l=Bn(c);return l&&a.push(new ts(l)),a},[]);return new Ed(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EM=(()=>{let e=class e{constructor(){this.zone=v(W),this.applicationRef=v(gn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IM(t){return[{provide:W,useFactory:t},{provide:Wn,multi:!0,useFactory:()=>{let e=v(EM,{optional:!0});return()=>e.initialize()}},{provide:Wn,multi:!0,useFactory:()=>{let e=v(TM);return()=>{e.initialize()}}},{provide:Ay,useFactory:CM}]}function CM(){let t=v(W),e=v(Ht);return n=>t.runOutsideAngular(()=>e.handleError(n))}function DM(t){let e=IM(()=>new W(bM(t)));return Zn([[],e])}function bM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var TM=(()=>{let e=class e{constructor(){this.subscription=new te,this.initialized=!1,this.zone=v(W),this.pendingTasks=v(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SM(){return typeof $localize<"u"&&$localize.locale||La}var sh=new w("",{providedIn:"root",factory:()=>v(sh,P.Optional|P.SkipSelf)||SM()});var k_=new w("");var va=null;function AM(t=[],e){return Fe.create({name:e,providers:[{provide:Ya,useValue:"platform"},{provide:k_,useValue:new Set([()=>va=null])},...t]})}function MM(t=[]){if(va)return va;let e=AM(t);return va=e,yM(),NM(e),e}function NM(t){t.get(Rd,null)?.forEach(n=>n())}function F_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=MM(r),s=[DM(),...n||[]],a=new ka({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(W);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Ht,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(k_);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),wM(l,c,()=>{let f=a.get(P_);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(sh,La);lM(g||La);let y=a.get(gn);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var fv=!1;function RM(){fv||(fv=!0,WT(),iM(),hM(),aM(),VA(),MA(),tA(),aS())}function xM(t,e){return rh(t)}function L_(){return Zn([{provide:ca,useFactory:()=>{let t=!0;return la()&&(t=!!v(Qn,{optional:!0})?.get(iy,null)),t&&us("NgHydration"),t}},{provide:Wn,useValue:()=>{la()&&v(ca)&&(OM(),RM())},multi:!0},{provide:Ny,useFactory:()=>la()&&v(ca)},{provide:oi,useFactory:()=>{if(la()&&v(ca)){let t=v(gn),e=v(Fe);return()=>{xM(t,e).then(()=>{W.assertInAngularZone(),qS(t)})}}return()=>{}},multi:!0}])}function OM(){let t=$a(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===$T){e=n;break}if(!e)throw new E(-507,!1)}function ac(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var B_=null;function qt(){return B_}function $_(t){B_??=t}var cc=class{};var at=new w(""),H_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(FM),providedIn:"platform"});let t=e;return t})();var FM=(()=>{let e=class e extends H_{constructor(){super(),this._doc=v(at),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(r){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function W_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function V_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function tr(t){return t&&t[0]!=="?"?"?"+t:t}var uc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(z_),providedIn:"root"});let t=e;return t})(),LM=new w(""),z_=(()=>{let e=class e extends uc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return W_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+tr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(k(H_),k(LM,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ms=(()=>{let e=class e{constructor(r){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UM(V_(j_(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+tr(i))}normalize(r){return e.stripTrailingSlash(jM(this._basePath,j_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=tr,e.joinWithSlash=W_,e.stripTrailingSlash=V_,e.\u0275fac=function(i){return new(i||e)(k(uc))},e.\u0275prov=D({token:e,factory:()=>VM(),providedIn:"root"});let t=e;return t})();function VM(){return new ms(k(uc))}function jM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function j_(t){return t.replace(/\/index.html$/,"")}function UM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function G_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var q_=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new oh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){U_("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){U_("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(ds),q(Zd))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),oh=class{constructor(){this.$implicit=null,this.ngIf=null}};function U_(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${be(e)}'.`)}var vs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Pe({});let t=e;return t})(),ah="browser",BM="server";function Y_(t){return t===ah}function ch(t){return t===BM}var lc=class{};var hc=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var tw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(tw||{}),lh=class{constructor(e,n=nw.Ok,r="OK"){this.headers=e.headers||new hc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var fc=class t extends lh{constructor(e={}){super(e),this.type=tw.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var nw=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(nw||{});var WM=new w("");var K_="b",Q_="h",Z_="s",J_="st",X_="u",ew="rt",dc=new w(""),zM=["GET","HEAD"];function GM(t,e){let u=v(dc),{isCacheActive:n}=u,r=Xg(u,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!zM.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=v(Qn),a=YM(t),c=o.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[K_]:d,[ew]:h,[Q_]:f,[Z_]:g,[J_]:y,[X_]:b}=c,C=d;switch(h){case"arraybuffer":C=new TextEncoder().encode(d).buffer;break;case"blob":C=new Blob([d]);break}let ee=new hc(f);return T(new fc({body:C,headers:ee,status:g,statusText:y,url:b}))}return e(t).pipe(se(d=>{d instanceof fc&&o.set(a,{[K_]:d.body,[Q_]:qM(d.headers,l),[Z_]:d.status,[J_]:d.statusText,[X_]:d.url||"",[ew]:t.responseType})}))}function qM(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function YM(t){let{params:e,method:n,responseType:r,url:i,body:s}=t,o=e.keys().sort().map(u=>`${u}=${e.getAll(u)}`).join("&"),c=[n,r,i,typeof s=="string"?s:"",o].join("|"),l=KM(c);return l}function KM(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function rw(t){return[{provide:dc,useFactory:()=>(us("NgHttpTransferCache"),_({isCacheActive:!0},t))},{provide:WM,useValue:GM,multi:!0,deps:[Qn,dc]},{provide:oi,multi:!0,useFactory:()=>{let e=v(gn),n=v(dc);return()=>{rh(e).then(()=>{n.isCacheActive=!1})}}}]}var hh=class extends cc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fh=class t extends hh{static makeCurrent(){$_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QM();return n==null?null:ZM(n)}resetBaseElement(){ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return G_(document.cookie,e)}},ys=null;function QM(){return ys=ys||document.querySelector("base"),ys?ys.getAttribute("href"):null}function ZM(t){return new URL(t,document.baseURI).pathname}var JM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),ph=new w(""),aw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(k(ph),k(W))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=class{constructor(e){this._doc=e}},uh="ng-app-id",cw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ch(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${uh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(uh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(uh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(k(at),k(Wa),k(xd,8),k(Ke))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),dh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vh=/%COMP%/g,lw="%COMP%",XM=`_nghost-${lw}`,eN=`_ngcontent-${lw}`,tN=!0,nN=new w("",{providedIn:"root",factory:()=>tN});function rN(t){return eN.replace(vh,t)}function iN(t){return XM.replace(vh,t)}function uw(t,e){return e.map(n=>n.replace(vh,t))}var iw=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ch(c),this.defaultRenderer=new _s(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bt.ShadowDom&&(i=G(_({},i),{encapsulation:bt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof gc?s.applyToHost(r):s instanceof ws&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case bt.Emulated:o=new gc(l,u,i,this.appId,d,a,c,h);break;case bt.ShadowDom:return new gh(l,u,r,i,a,c,this.nonce,h);default:o=new ws(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(k(aw),k(cw),k(Wa),k(nN),k(at),k(Ke),k(W),k(xd))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),_s=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=dh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(n,r,i&Wt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gh=class extends _s{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=uw(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ws=class extends _s{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?uw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gc=class extends ws{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=rN(l),this.hostAttr=iN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},sN=(()=>{let e=class e extends pc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(k(at))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})(),ow=["alt","control","meta","shift"],oN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cN=(()=>{let e=class e extends pc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ow.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=oN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ow.forEach(a=>{if(a!==s){let c=aN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(k(at))},e.\u0275prov=D({token:e,factory:e.\u0275fac});let t=e;return t})();function dw(t,e){return F_(_({rootComponent:t},lN(e)))}function lN(t){return{appProviders:[...pN,...t?.providers??[]],platformProviders:fN}}function uN(){fh.makeCurrent()}function dN(){return new Ht}function hN(){return qv(document),document}var fN=[{provide:Ke,useValue:ah},{provide:Rd,useValue:uN,multi:!0},{provide:at,useFactory:hN,deps:[]}];var pN=[{provide:Ya,useValue:"root"},{provide:Ht,useFactory:dN,deps:[]},{provide:ph,useClass:sN,multi:!0,deps:[at,W,Ke]},{provide:ph,useClass:cN,multi:!0,deps:[at]},iw,cw,aw,{provide:es,useExisting:iw},{provide:lc,useClass:JM,deps:[]},[]];var hw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(k(at))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mh=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(mh||{});function fw(...t){let e=[],n=new Set,r=n.has(mh.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Zn([[],L_(),n.has(mh.NoHttpTransferCache)||r?[]:rw({}),e])}var R="primary",ks=Symbol("RouteTitle"),Ih=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function di(t){return new Ih(t)}function vN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mt(t[n],e[n]))return!1;return!0}function Mt(t,e){let n=t?Ch(t):void 0,r=e?Ch(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_w(t[i],e[i]))return!1;return!0}function Ch(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _w(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ww(t){return t.length>0?t[t.length-1]:null}function yn(t){return hu(t)?t:er(t)?ie(Promise.resolve(t)):T(t)}var _N={exact:Iw,subset:Cw},Ew={exact:wN,subset:EN,ignored:()=>!0};function pw(t,e,n){return _N[n.paths](t.root,e.root,n.matrixParams)&&Ew[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function wN(t,e){return Mt(t,e)}function Iw(t,e,n){if(!rr(t.segments,e.segments)||!yc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Iw(t.children[r],e.children[r],n))return!1;return!0}function EN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_w(t[n],e[n]))}function Cw(t,e,n){return Dw(t,e,e.segments,n)}function Dw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!rr(i,n)||e.hasChildren()||!yc(i,n,r))}else if(t.segments.length===n.length){if(!rr(t.segments,n)||!yc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Cw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!rr(t.segments,i)||!yc(t.segments,i,r)||!t.children[R]?!1:Dw(t.children[R],e,s,r)}}function yc(t,e,n){return e.every((r,i)=>Ew[n](t[i].parameters,r.parameters))}var mn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=di(this.queryParams),this._queryParamMap}toString(){return DN.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _c(this)}},nr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=di(this.parameters),this._parameterMap}toString(){return Tw(this)}};function IN(t,e){return rr(t,e)&&t.every((n,r)=>Mt(n.parameters,e[r].parameters))}function rr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===R&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==R&&(n=n.concat(e(i,r)))}),n}var Kh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>new Ec,providedIn:"root"});let t=e;return t})(),Ec=class{parse(e){let n=new bh(e);return new mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Es(e.root,!0)}`,r=SN(e.queryParams),i=typeof e.fragment=="string"?`#${bN(e.fragment)}`:"";return`${n}${r}${i}`}},DN=new Ec;function _c(t){return t.segments.map(e=>Tw(e)).join("/")}function Es(t,e){if(!t.hasChildren())return _c(t);if(e){let n=t.children[R]?Es(t.children[R],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==R&&r.push(`${i}:${Es(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CN(t,(r,i)=>i===R?[Es(t.children[R],!1)]:[`${i}:${Es(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[R]!=null?`${_c(t)}/${n[0]}`:`${_c(t)}/(${n.join("//")})`}}function bw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mc(t){return bw(t).replace(/%3B/gi,";")}function bN(t){return encodeURI(t)}function Dh(t){return bw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wc(t){return decodeURIComponent(t)}function gw(t){return wc(t.replace(/\+/g,"%20"))}function Tw(t){return`${Dh(t.path)}${TN(t.parameters)}`}function TN(t){return Object.entries(t).map(([e,n])=>`;${Dh(e)}=${Dh(n)}`).join("")}function SN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mc(n)}=${mc(i)}`).join("&"):`${mc(n)}=${mc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var AN=/^[^\/()?;#]+/;function yh(t){let e=t.match(AN);return e?e[0]:""}var MN=/^[^\/()?;=#]+/;function NN(t){let e=t.match(MN);return e?e[0]:""}var RN=/^[^=?&#]+/;function xN(t){let e=t.match(RN);return e?e[0]:""}var ON=/^[^&#]+/;function PN(t){let e=t.match(ON);return e?e[0]:""}var bh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[R]=new Y(e,n)),r}parseSegment(){let e=yh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new nr(wc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yh(this.remaining);i&&(r=i,this.capture(r))}e[wc(n)]=wc(r)}parseQueryParam(e){let n=xN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=PN(this.remaining);o&&(r=o,this.capture(r))}let i=gw(n),s=gw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=R);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[R]:new Y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function Sw(t){return t.segments.length>0?new Y([],{[R]:t}):t}function Aw(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Aw(i);if(r===R&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Y(t.segments,e);return kN(n)}function kN(t){if(t.numberOfChildren===1&&t.children[R]){let e=t.children[R];return new Y(t.segments.concat(e.segments),e.children)}return t}function hi(t){return t instanceof mn}function FN(t,e,n=null,r=null){let i=Mw(t);return Nw(i,e,n,r)}function Mw(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Y(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Sw(r);return e??i}function Nw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _h(i,i,i,n,r);let s=LN(e);if(s.toRoot())return _h(i,i,new Y([],{}),n,r);let o=VN(s,i,t),a=o.processChildren?Ds(o.segmentGroup,o.index,s.commands):xw(o.segmentGroup,o.index,s.commands);return _h(i,o.segmentGroup,a,n,r)}function Ic(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ss(t){return typeof t=="object"&&t!=null&&t.outlets}function _h(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=Rw(t,e,n);let a=Sw(Aw(o));return new mn(a,s,i)}function Rw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Rw(s,e,n)}),new Y(t.segments,r)}var Cc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ic(r[0]))throw new E(4003,!1);let i=r.find(Ss);if(i&&i!==ww(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Cc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Cc(n,e,r)}var li=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function VN(t,e,n){if(t.isAbsolute)return new li(e,!0,0);if(!n)return new li(e,!1,NaN);if(n.parent===null)return new li(n,!0,0);let r=Ic(t.commands[0])?0:1,i=n.segments.length-1+r;return jN(n,i,t.numberOfDoubleDots)}function jN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new li(r,!1,i-s)}function UN(t){return Ss(t[0])?t[0].outlets:{[R]:t}}function xw(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return Ds(t,e,n);let r=BN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Y(t.segments.slice(0,r.pathIndex),{});return s.children[R]=new Y(t.segments.slice(r.pathIndex),t.children),Ds(s,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?Th(t,e,n):r.match?Ds(t,0,i):Th(t,e,n)}function Ds(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=UN(n),i={};if(Object.keys(r).some(s=>s!==R)&&t.children[R]&&t.numberOfChildren===1&&t.children[R].segments.length===0){let s=Ds(t.children[R],e,n);return new Y(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=xw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Y(t.segments,i)}}function BN(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ss(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!vw(c,l,o))return s;r+=2}else{if(!vw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Th(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ss(s)){let c=$N(s.outlets);return new Y(r,c)}if(i===0&&Ic(n[0])){let c=t.segments[e];r.push(new nr(c.path,mw(n[0]))),i++;continue}let o=Ss(s)?s.outlets[R]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ic(a)?(r.push(new nr(o,mw(a))),i+=2):(r.push(new nr(o,{})),i++)}return new Y(r,{})}function $N(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Th(new Y([],{}),0,r))}),e}function mw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vw(t,e,n){return t==n.path&&Mt(e,n.parameters)}var bs="imperative",we=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(we||{}),lt=class{constructor(e,n){this.id=e,this.url=n}},As=class extends lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=we.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=we.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ct||{}),Sh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sh||{}),vn=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=we.NavigationSkipped}},Ms=class extends lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=we.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dc=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class extends lt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=we.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nh=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oh=class{constructor(e){this.route=e,this.type=we.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ph=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{constructor(e){this.snapshot=e,this.type=we.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{constructor(e){this.snapshot=e,this.type=we.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{constructor(e){this.snapshot=e,this.type=we.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ns=class{},Rs=class{constructor(e){this.url=e}};var Vh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nc,this.attachRef=null}},Nc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uh(e,this._root).map(n=>n.value)}};function jh(t,e){if(t===e.value)return e;for(let n of e.children){let r=jh(t,n);if(r)return r}return null}function Uh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Uh(t,n);if(r.length)return r.unshift(e),r}return[]}var Qe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ci(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Tc=class extends bc{constructor(e,n){super(e),this.snapshot=n,Zh(this,e)}toString(){return this.snapshot.toString()}};function Ow(t){let e=HN(t),n=new ye([new nr("",{})]),r=new ye({}),i=new ye({}),s=new ye({}),o=new ye(""),a=new fi(n,r,s,o,i,R,t,e.root);return a.snapshot=e.root,new Tc(new Qe(a,[]),e)}function HN(t){let e={},n={},r={},i="",s=new xs([],e,r,i,n,R,t,null,{});return new Sc("",new Qe(s,[]))}var fi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[ks]))??T(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>di(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>di(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),i?.data),t._resolvedData)}:r={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},i&&kw(i)&&(r.resolve[ks]=i.title),r}var xs=class{get title(){return this.data?.[ks]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=di(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Sc=class extends bc{constructor(e,n){super(n),this.url=e,Zh(this,n)}toString(){return Pw(this._root)}};function Zh(t,e){e.value._routerState=t,e.children.forEach(n=>Zh(t,n))}function Pw(t){let e=t.children.length>0?` { ${t.children.map(Pw).join(", ")} } `:"";return`${t.value}${e}`}function wh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mt(e.params,n.params)||t.paramsSubject.next(n.params),yN(e.url,n.url)||t.urlSubject.next(n.url),Mt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bh(t,e){let n=Mt(t.params,e.params)&&IN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Bh(t.parent,e.parent))}function kw(t){return typeof t.title=="string"||t.title===null}var Jh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=R,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=v(Nc),this.location=v(ds),this.changeDetector=v(Jn),this.environmentInjector=v(nt),this.inputBinder=v(Xh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new $h(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pn]});let t=e;return t})(),$h=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fi?this.route:e===Nc?this.childContexts:this.parent.get(e,n)}},Xh=new w("");function WN(t,e,n){let r=Os(t,e._root,n?n._root:void 0);return new Tc(r,e)}function Os(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=zN(t,e,n);return new Qe(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Os(t,a)),o}}let r=GN(e.value),i=e.children.map(s=>Os(t,s));return new Qe(r,i)}}function zN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Os(t,r,i);return Os(t,r)})}function GN(t){return new fi(new ye(t.url),new ye(t.params),new ye(t.queryParams),new ye(t.fragment),new ye(t.data),t.outlet,t.component,t)}var Fw="ngNavigationCancelingError";function Lw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vw(!1,ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Vw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Fw]=!0,n.cancellationCode=e,n}function qN(t){return jw(t)&&hi(t.url)}function jw(t){return!!t&&t[Fw]}var YN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(i,s){i&1&&de(0,"router-outlet")},dependencies:[Jh],encapsulation:2});let t=e;return t})();function KN(t,e){return t.providers&&!t._injector&&(t._injector=eh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ef(t){let e=t.children&&t.children.map(ef),n=e?G(_({},t),{children:e}):_({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==R&&(n.component=YN),n}function Nt(t){return t.outlet||R}function QN(t,e){let n=t.filter(r=>Nt(r)===e);return n.push(...t.filter(r=>Nt(r)!==e)),n}function Fs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ZN=(t,e,n,r)=>j(i=>(new Hh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hh=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ci(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ci(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ci(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ci(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Lh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(wh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),wh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Fs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Ac=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ui=class{constructor(e,n){this.component=e,this.route=n}};function JN(t,e,n){let r=t._root,i=e?e._root:null;return Is(r,i,n,[r.value])}function XN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function gi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Yv(t)?t:e.get(t):r}function Is(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ci(e);return t.children.forEach(o=>{eR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ts(a,n.getContext(o),i)),i}function eR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=tR(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ac(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Is(t,e,a?a.children:null,r,i):Is(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ui(a.outlet.component,o))}else o&&Ts(e,a,i),i.canActivateChecks.push(new Ac(r)),s.component?Is(t,null,a?a.children:null,r,i):Is(t,null,n,r,i);return i}function tR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rr(t.url,e.url)||!Mt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(t,e)||!Mt(t.queryParams,e.queryParams);case"paramsChange":default:return!Bh(t,e)}}function Ts(t,e,n){let r=ci(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ts(o,e.children.getContext(s),n):Ts(o,null,n):Ts(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ui(e.outlet.component,i)):n.canDeactivateChecks.push(new ui(null,i)):n.canDeactivateChecks.push(new ui(null,i))}function Ls(t){return typeof t=="function"}function nR(t){return typeof t=="boolean"}function rR(t){return t&&Ls(t.canLoad)}function iR(t){return t&&Ls(t.canActivate)}function sR(t){return t&&Ls(t.canActivateChild)}function oR(t){return t&&Ls(t.canDeactivate)}function aR(t){return t&&Ls(t.canMatch)}function Uw(t){return t instanceof Vt||t?.name==="EmptyError"}var vc=Symbol("INITIAL_VALUE");function pi(){return xe(t=>ia(t.map(e=>e.pipe(jt(1),yu(vc)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===vc)return vc;if(n===!1||n instanceof mn)return n}return!0}),Je(e=>e!==vc),jt(1)))}function cR(t,e){return ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?T(G(_({},n),{guardsResult:!0})):lR(o,r,i,t).pipe(ue(a=>a&&nR(a)?uR(r,s,t,e):T(a)),j(a=>G(_({},n),{guardsResult:a})))})}function lR(t,e,n,r){return ie(t).pipe(ue(i=>gR(i.component,i.route,n,e,r)),ft(i=>i!==!0,!0))}function uR(t,e,n,r){return ie(e).pipe(jn(i=>Vr(hR(i.route.parent,r),dR(i.route,r),pR(t,i.path,n),fR(t,i.route,n))),ft(i=>i!==!0,!0))}function dR(t,e){return t!==null&&e&&e(new Fh(t)),T(!0)}function hR(t,e){return t!==null&&e&&e(new Ph(t)),T(!0)}function fR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(s=>sa(()=>{let o=Fs(e)??n,a=gi(s,o),c=iR(a)?a.canActivate(e,t):fn(o,()=>a(e,t));return yn(c).pipe(ft())}));return T(i).pipe(pi())}function pR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>XN(o)).filter(o=>o!==null).map(o=>sa(()=>{let a=o.guards.map(c=>{let l=Fs(o.node)??n,u=gi(c,l),d=sR(u)?u.canActivateChild(r,t):fn(l,()=>u(r,t));return yn(d).pipe(ft())});return T(a).pipe(pi())}));return T(s).pipe(pi())}function gR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return T(!0);let o=s.map(a=>{let c=Fs(e)??i,l=gi(a,c),u=oR(l)?l.canDeactivate(t,e,n,r):fn(c,()=>l(t,e,n,r));return yn(u).pipe(ft())});return T(o).pipe(pi())}function mR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return T(!0);let s=i.map(o=>{let a=gi(o,t),c=rR(a)?a.canLoad(e,n):fn(t,()=>a(e,n));return yn(c)});return T(s).pipe(pi(),Bw(r))}function Bw(t){return su(se(e=>{if(hi(e))throw Lw(t,e)}),j(e=>e===!0))}function vR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return T(!0);let s=i.map(o=>{let a=gi(o,t),c=aR(a)?a.canMatch(e,n):fn(t,()=>a(e,n));return yn(c)});return T(s).pipe(pi(),Bw(r))}var Ps=class{constructor(e){this.segmentGroup=e||null}},Mc=class extends Error{constructor(e){super(),this.urlTree=e}};function ai(t){return Lr(new Ps(t))}function yR(t){return Lr(new E(4e3,!1))}function _R(t){return Lr(Vw(!1,ct.GuardRejected))}var Wh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[R])return yR(e.redirectTo);i=i.children[R]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Mc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new mn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wR(t,e,n,r,i){let s=tf(t,e,n);return s.matched?(r=KN(e,r),vR(r,e,n,i).pipe(j(o=>o===!0?s:_({},zh)))):T(s)}function tf(t,e,n){if(e.path==="**")return ER(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?_({},zh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vN)(n,t,e);if(!i)return _({},zh);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?_(_({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ER(t){return{matched:!0,parameters:t.length>0?ww(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yw(t,e,n,r){return n.length>0&&DR(t,n,r)?{segmentGroup:new Y(e,CR(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&bR(t,n,r)?{segmentGroup:new Y(t.segments,IR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function IR(t,e,n,r){let i={};for(let s of n)if(Rc(t,e,s)&&!r[Nt(s)]){let o=new Y([],{});i[Nt(s)]=o}return _(_({},r),i)}function CR(t,e){let n={};n[R]=e;for(let r of t)if(r.path===""&&Nt(r)!==R){let i=new Y([],{});n[Nt(r)]=i}return n}function DR(t,e,n){return n.some(r=>Rc(t,e,r)&&Nt(r)!==R)}function bR(t,e,n){return n.some(r=>Rc(t,e,r))}function Rc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TR(t,e,n,r){return Nt(t)!==r&&(r===R||!Rc(e,n,t))?!1:tf(e,t,n).matched}function SR(t,e,n){return e.length===0&&!t.children[n]}var Gh=class{};function AR(t,e,n,r,i,s,o="emptyOnly"){return new qh(t,e,n,r,i,o,s).recognize()}var MR=31,qh=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Wh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=yw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let r=new xs([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,{},R,this.rootComponentType,null,{}),i=new Qe(r,n),s=new Sc("",i),o=FN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,R).pipe(sn(r=>{if(r instanceof Mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ps?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Qh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(j(s=>s instanceof Qe?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ie(i).pipe(jn(s=>{let o=r.children[s],a=QN(n,s);return this.processSegmentGroup(e,a,o,s)}),vu((s,o)=>(s.push(...o),s)),on(null),mu(),ue(s=>{if(s===null)return ai(r);let o=$w(s);return NR(o),T(o)}))}processSegment(e,n,r,i,s,o){return ie(n).pipe(jn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(sn(c=>{if(c instanceof Ps)return T(null);throw c}))),ft(a=>!!a),sn(a=>{if(Uw(a))return SR(r,i,s)?T(new Gh):ai(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return TR(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ai(i):ai(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=tf(n,i,s);if(!a)return ai(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ue(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=wR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(xe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new xs(u,h,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,xR(r),Nt(r),r.component??r._loadedComponent??null,r,OR(r)),{segmentGroup:g,slicedSegments:y}=yw(n,u,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe(j(C=>C===null?null:new Qe(f,C)));if(c.length===0&&y.length===0)return T(new Qe(f,[]));let b=Nt(r)===s;return this.processSegment(l,c,g,y,b?R:s,!0).pipe(j(C=>new Qe(f,C instanceof Qe?[C]:[])))}))):ai(n)))}getChildConfig(e,n,r){return n.children?T({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):mR(e,n,r,this.urlSerializer).pipe(ue(i=>i?this.configLoader.loadChildren(e,n).pipe(se(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_R(n))):T({routes:[],injector:e})}};function NR(t){t.sort((e,n)=>e.value.outlet===R?-1:n.value.outlet===R?1:e.value.outlet.localeCompare(n.value.outlet))}function RR(t){let e=t.value.routeConfig;return e&&e.path===""}function $w(t){let e=[],n=new Set;for(let r of t){if(!RR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=$w(r.children);e.push(new Qe(r.value,i))}return e.filter(r=>!n.has(r))}function xR(t){return t.data||{}}function OR(t){return t.resolve||{}}function PR(t,e,n,r,i,s){return ue(o=>AR(t,e,n,r,o.extractedUrl,i,s).pipe(j(({state:a,tree:c})=>G(_({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function kR(t,e){return ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of Hw(c))o.add(l);let a=0;return ie(o).pipe(jn(c=>s.has(c)?FR(c,r,t,e):(c.data=Qh(c,c.parent,t).resolve,T(void 0))),se(()=>a++),Ur(1),ue(c=>a===o.size?T(n):Ze))})}function Hw(t){let e=t.children.map(n=>Hw(n)).flat();return[t,...e]}function FR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!kw(i)&&(s[ks]=i.title),LR(s,t,e,r).pipe(j(o=>(t._resolvedData=o,t.data=Qh(t,t.parent,n).resolve,null)))}function LR(t,e,n,r){let i=Ch(t);if(i.length===0)return T({});let s={};return ie(i).pipe(ue(o=>VR(t[o],e,n,r).pipe(ft(),se(a=>{s[o]=a}))),Ur(1),gu(s),sn(o=>Uw(o)?Ze:Lr(o)))}function VR(t,e,n,r){let i=Fs(e)??r,s=gi(t,i),o=s.resolve?s.resolve(e,n):fn(i,()=>s(e,n));return yn(o)}function Eh(t){return xe(e=>{let n=t(e);return n?ie(n).pipe(j(()=>e)):T(e)})}var Ww=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===R);return i}getResolvedTitleForRoute(r){return r.data[ks]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(jR),providedIn:"root"});let t=e;return t})(),jR=(()=>{let e=class e extends Ww{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(k(hw))},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nf=new w("",{providedIn:"root",factory:()=>({})}),rf=new w(""),UR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(ih)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return T(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=yn(r.loadComponent()).pipe(j(zw),se(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),jr(()=>{this.componentLoaders.delete(r)})),s=new xr(i,()=>new ve).pipe(Rr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return T({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=BR(i,this.compiler,r,this.onLoadEndListener).pipe(jr(()=>{this.childrenLoaders.delete(i)})),a=new xr(o,()=>new ve).pipe(Rr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BR(t,e,n,r){return yn(t.loadChildren()).pipe(j(zw),ue(i=>i instanceof ns||Array.isArray(i)?T(i):ie(e.compileModuleAsync(i))),j(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(rf,[],{optional:!0,self:!0}).flat()),{routes:o.map(ef),injector:s}}))}function $R(t){return t&&typeof t=="object"&&"default"in t}function zw(t){return $R(t)?t.default:t}var sf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(HR),providedIn:"root"});let t=e;return t})(),HR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=new w("");var zR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=v(UR),this.environmentInjector=v(nt),this.urlSerializer=v(Kh),this.rootContexts=v(Nc),this.location=v(ms),this.inputBindingEnabled=v(Xh,{optional:!0})!==null,this.titleStrategy=v(Ww),this.options=v(nf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(sf),this.createViewTransition=v(WR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>T(void 0),this.rootComponentType=null;let r=s=>this.events.next(new xh(s)),i=s=>this.events.next(new Oh(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(G(_(_({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(o=>o.id!==0),j(o=>G(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xe(o=>{this.currentTransition=o;let a=!1,c=!1;return T(o).pipe(se(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xe(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new sr(l.id,this.urlSerializer.serialize(l.rawUrl),h,Sh.IgnoredSameUrlNavigation)),l.resolve(null),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return T(l).pipe(xe(h=>{let f=this.transitions?.getValue();return this.events.next(new As(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ze:Promise.resolve(h)}),PR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),se(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=G(_({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Dc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:b}=l,C=new As(h,this.urlSerializer.serialize(f),g,y);this.events.next(C);let ee=Ow(this.rootComponentType).snapshot;return this.currentTransition=o=G(_({},l),{targetSnapshot:ee,urlAfterRedirects:f,extras:G(_({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,T(o)}else{let h="";return this.events.next(new sr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Sh.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ze}}),se(l=>{let u=new Ah(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),j(l=>(this.currentTransition=o=G(_({},l),{guards:JN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),cR(this.environmentInjector,l=>this.events.next(l)),se(l=>{if(o.guardsResult=l.guardsResult,hi(l.guardsResult))throw Lw(this.urlSerializer,l.guardsResult);let u=new Mh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Je(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ct.GuardRejected),!1)),Eh(l=>{if(l.guards.canActivateChecks.length)return T(l).pipe(se(u=>{let d=new Nh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xe(u=>{let d=!1;return T(u).pipe(kR(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ct.NoDataFromResolver)}}))}),se(u=>{let d=new Rh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Eh(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(se(f=>{d.component=f}),j(()=>{})));for(let f of d.children)h.push(...u(f));return h};return ia(u(l.targetSnapshot.root)).pipe(on(null),jt(1))}),Eh(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ie(d).pipe(j(()=>o)):T(o)}),j(l=>{let u=WN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=G(_({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),se(()=>{this.events.next(new Ns)}),ZN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),jt(1),se({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),_u(this.transitionAbortSubject.pipe(se(l=>{throw l}))),jr(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),sn(l=>{if(c=!0,jw(l))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),qN(l)?this.events.next(new Rs(l.url)):o.resolve(!1);else{this.events.next(new Ms(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ze}))}))}cancelNavigationTransition(r,i,s){let o=new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GR(t){return t!==bs}var qR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(YR),providedIn:"root"});let t=e;return t})(),Yh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YR=(()=>{let e=class e extends Yh{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ni(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:()=>v(KR),providedIn:"root"});let t=e;return t})(),KR=(()=>{let e=class e extends Gw{constructor(){super(...arguments),this.location=v(ms),this.urlSerializer=v(Kh),this.options=v(nf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(sf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ow(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof As)this.stateMemento=this.createStateMemento();else if(r instanceof sr)this.rawUrlTree=i.initialUrl;else if(r instanceof Dc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ns?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof vn&&(r.code===ct.GuardRejected||r.code===ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ms?this.restoreHistory(i,!0):r instanceof ir&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=_(_({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=_(_({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ni(e)))(s||e)}})(),e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Cs||{});function QR(t,e){t.events.pipe(Je(n=>n instanceof ir||n instanceof vn||n instanceof Ms||n instanceof sr),j(n=>n instanceof ir||n instanceof sr?Cs.COMPLETE:(n instanceof vn?n.code===ct.Redirect||n.code===ct.SupersededByNewNavigation:!1)?Cs.REDIRECTING:Cs.FAILED),Je(n=>n!==Cs.REDIRECTING),jt(1)).subscribe(()=>{e()})}function ZR(t){throw t}var JR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(oc),this.stateManager=v(Gw),this.options=v(nf,{optional:!0})||{},this.pendingTasks=v(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(zR),this.urlSerializer=v(Kh),this.location=v(ms),this.urlHandlingStrategy=v(sf),this._events=new ve,this.errorHandler=this.options.errorHandler||ZR,this.navigated=!1,this.routeReuseStrategy=v(qR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(rf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Xh,{optional:!0}),this.eventsSubscription=new te,this.isNgZoneEnabled=v(W)instanceof W&&W.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof vn&&i.code!==ct.Redirect&&i.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ir)this.navigated=!0;else if(i instanceof Rs){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||GR(s.source)};this.scheduleNavigation(a,bs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}tx(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=_({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ef),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Mw(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Nw(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=hi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,bs,null,i)}navigate(r,i={skipLocationChange:!1}){return ex(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=_({},JR):i===!1?s=_({},XR):s=i,hi(r))return pw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return pw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return QR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ex(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}function tx(t){return!(t instanceof Ns)&&!(t instanceof Rs)}var nx=new w("");function qw(t,...e){return Zn([{provide:rf,multi:!0,useValue:t},[],{provide:fi,useFactory:rx,deps:[mi]},{provide:oi,multi:!0,useFactory:ix},e.map(n=>n.\u0275providers)])}function rx(t){return t.routerState.root}function ix(){let t=v(Fe);return e=>{let n=t.get(gn);if(e!==n.components[0])return;let r=t.get(mi),i=t.get(sx);t.get(ox)===1&&r.initialNavigation(),t.get(ax,null,P.Optional)?.setUpPreloading(),t.get(nx,null,P.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sx=new w("",{factory:()=>new ve}),ox=new w("",{providedIn:"root",factory:()=>1});var ax=new w("");var Kw=(()=>{let e=class e{constructor(r){this.router=r}open(){this.router.navigate(["/home"])}};e.\u0275fac=function(i){return new(i||e)(q(mi))},e.\u0275cmp=rt({type:e,selectors:[["app-header"]],standalone:!0,features:[ot],decls:6,vars:0,consts:[[1,"header"],["id","back",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"]],template:function(i,s){i&1&&(A(0,"div",0)(1,"button",1),ce("click",function(){return s.open()}),Kn(),A(2,"svg",2),de(3,"path",3),F()(),ei(),A(4,"h1"),X(5,"Diagrama de controle"),F()())},styles:[".header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:#a58355;padding:0 15px;z-index:1000}#back[_ngcontent-%COMP%]{margin-left:30px;top:40%;position:absolute;background-color:#a58355;border:0;cursor:pointer}h1[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;font-weight:500;letter-spacing:-.125rem;font-family:Inter Tight}"]});let t=e;return t})();var xc=(()=>{let e=class e{git(r){window.open(r,"_blank")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["app-footer"]],standalone:!0,features:[ot],decls:19,vars:0,consts:[[1,"footer"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"],[1,"git",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"]],template:function(i,s){i&1&&(A(0,"div",0)(1,"button",1),ce("click",function(){return s.git("https://github.com/priscilacavalcante")}),Kn(),A(2,"svg",2),de(3,"path",3),F(),ei(),A(4,"span"),X(5,"Priscila da Silva Cavalcante"),F()(),A(6,"button",1),ce("click",function(){return s.git("https://github.com/rfspereir")}),Kn(),A(7,"svg",2),de(8,"path",3),F(),ei(),A(9,"span"),X(10,"Rafael Felipe Silva Pereira"),F()(),A(11,"button",1),ce("click",function(){return s.git("https://github.com/rafamesquita")}),Kn(),A(12,"svg",2),de(13,"path",3),F(),ei(),A(14,"span"),X(15,"Rafaela Mesquita Gontijo"),F()(),A(16,"button",4),ce("click",function(){return s.git("https://github.com/rfspereir/ProActive")}),Kn(),A(17,"svg",5),de(18,"path",6),F()()())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:#a58355;padding:15px 0}button[_ngcontent-%COMP%]{background-color:#a58355;border:0;cursor:pointer}span[_ngcontent-%COMP%]{letter-spacing:.12rem;font-family:Inter Tight;margin-right:60px;margin-left:55px}svg[_ngcontent-%COMP%]{margin-left:35px;position:absolute}.git[_ngcontent-%COMP%]{background-color:#a58355;border:0;position:absolute;right:85px;cursor:pointer}"]});let t=e;return t})();var af={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw or(e)},or=function(t){return new Error("Firebase Database ("+af.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Zw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Pc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new cf;let h=s<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uf=function(t){let e=Zw(t);return Pc.encodeByteArray(e,!0)},Vs=function(t){return uf(t).replace(/\./g,"")},js=function(t){try{return Pc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jw(t){return Xw(void 0,t)}function Xw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!lx(n)||(t[n]=Xw(t[n],e[n]));return t}function lx(t){return t!=="__proto__"}function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dx=()=>ux().__FIREBASE_DEFAULTS__,hx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&js(t[1]);return e&&JSON.parse(e)},df=()=>{try{return dx()||hx()||fx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hf=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eE=t=>{let e=hf(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ff=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},pf=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};var _n=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function tE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vs(JSON.stringify(n)),Vs(JSON.stringify(o)),""].join(".")}function Ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Us(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function nE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rE(){let t=Ee();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rt(){return af.NODE_CLIENT===!0||af.NODE_ADMIN===!0}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var px="FirebaseError",yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=px,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}},Yt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yt(i,a,r)}};function gx(t,e){return t.replace(mx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mx=/\{\$([^}]+)}/g;function vi(t){return JSON.parse(t)}function le(t){return JSON.stringify(t)}var oE=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=vi(js(s[0])||""),n=vi(js(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var aE=function(t){let e=oE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},cE=function(t){let e=oE(t).claims;return typeof e=="object"&&e.admin===!0};function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ar(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bs(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $s(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Qw(s)&&Qw(o)){if(!yi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}function cr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Oc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function lE(t,e){let n=new lf(t,e);return n.subscribe.bind(n)}var lf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=of),i.error===void 0&&(i.error=of),i.complete===void 0&&(i.complete=of);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function of(){}function Hs(t,e){return`${t} failed: ${e} argument `}var uE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ws=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var eG=4*60*60*1e3;function Te(t){return t&&t._delegate?t._delegate:t}var ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lr="[DEFAULT]";var Fc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _n;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_x(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yx(t){return t===lr?void 0:t}function _x(t){return t.instantiationMode==="EAGER"}var zs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var wx=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),Ex={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Ix=K.INFO,Cx={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Dx=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Cx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wn=class{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Dx,this._userLogHandler=null,wx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var bx=(t,e)=>e.some(n=>t instanceof n),dE,hE;function Tx(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sx(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fE=new WeakMap,mf=new WeakMap,pE=new WeakMap,gf=new WeakMap,yf=new WeakMap;function Ax(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fE.set(n,t)}).catch(()=>{}),yf.set(e,t),e}function Mx(t){if(mf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mf.set(t,e)}var vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gE(t){vf=t(vf)}function Nx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Lc(this),e,...n);return pE.set(r,e.sort?e.sort():[e]),xt(r)}:Sx().includes(t)?function(...e){return t.apply(Lc(this),e),xt(fE.get(this))}:function(...e){return xt(t.apply(Lc(this),e))}}function Rx(t){return typeof t=="function"?Nx(t):(t instanceof IDBTransaction&&Mx(t),bx(t,Tx())?new Proxy(t,vf):t)}function xt(t){if(t instanceof IDBRequest)return Ax(t);if(gf.has(t))return gf.get(t);let e=Rx(t);return e!==t&&(gf.set(t,e),yf.set(e,t)),e}var Lc=t=>yf.get(t);function vE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=xt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xt(o.result),c.oldVersion,c.newVersion,xt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var xx=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],_f=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Ox.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xx.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return _f.set(e,s),s}gE(t=>G(_({},t),{get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));var Ef=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Px(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Px(t){let e=t.getComponent();return e?.type==="VERSION"}var If="@firebase/app",yE="0.9.29";var ur=new wn("@firebase/app"),kx="@firebase/app-compat",Fx="@firebase/analytics-compat",Lx="@firebase/analytics",Vx="@firebase/app-check-compat",jx="@firebase/app-check",Ux="@firebase/auth",Bx="@firebase/auth-compat",$x="@firebase/database",Hx="@firebase/database-compat",Wx="@firebase/functions",zx="@firebase/functions-compat",Gx="@firebase/installations",qx="@firebase/installations-compat",Yx="@firebase/messaging",Kx="@firebase/messaging-compat",Qx="@firebase/performance",Zx="@firebase/performance-compat",Jx="@firebase/remote-config",Xx="@firebase/remote-config-compat",eO="@firebase/storage",tO="@firebase/storage-compat",nO="@firebase/firestore",rO="@firebase/firestore-compat",iO="firebase",sO="10.9.0";var Cf="[DEFAULT]",oO={[If]:"fire-core",[kx]:"fire-core-compat",[Lx]:"fire-analytics",[Fx]:"fire-analytics-compat",[jx]:"fire-app-check",[Vx]:"fire-app-check-compat",[Ux]:"fire-auth",[Bx]:"fire-auth-compat",[$x]:"fire-rtdb",[Hx]:"fire-rtdb-compat",[Wx]:"fire-fn",[zx]:"fire-fn-compat",[Gx]:"fire-iid",[qx]:"fire-iid-compat",[Yx]:"fire-fcm",[Kx]:"fire-fcm-compat",[Qx]:"fire-perf",[Zx]:"fire-perf-compat",[Jx]:"fire-rc",[Xx]:"fire-rc-compat",[eO]:"fire-gcs",[tO]:"fire-gcs-compat",[nO]:"fire-fst",[rO]:"fire-fst-compat","fire-js":"fire-js",[iO]:"fire-js-all"};var Gs=new Map,Df=new Map;function aO(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){let e=t.name;if(Df.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(let n of Gs.values())aO(n,t);return!0}function Ys(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var cO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},En=new Yt("app","Firebase",cO);var bf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}};var Cn=sO;function Af(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw En.create("bad-app-name",{appName:String(i)});if(n||(n=ff()),!n)throw En.create("no-options");let s=Gs.get(i);if(s){if(yi(n,s.options)&&yi(r,s.config))return s;throw En.create("duplicate-app",{appName:i})}let o=new zs(i);for(let c of Df.values())o.addComponent(c);let a=new bf(n,r,o);return Gs.set(i,a),a}function _i(t=Cf){let e=Gs.get(t);if(!e&&t===Cf&&ff())return Af();if(!e)throw En.create("no-app",{appName:t});return e}function Vc(){return Array.from(Gs.values())}function he(t,e,n){var r;let i=(r=oO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(a.join(" "));return}In(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lO="firebase-heartbeat-database",uO=1,qs="firebase-heartbeat-store",wf=null;function IE(){return wf||(wf=vE(lO,uO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qs)}catch(n){console.warn(n)}}}}).catch(t=>{throw En.create("idb-open",{originalErrorMessage:t.message})})),wf}function dO(t){return p(this,null,function*(){try{let n=(yield IE()).transaction(qs),r=yield n.objectStore(qs).get(CE(t));return yield n.done,r}catch(e){if(e instanceof yt)ur.warn(e.message);else{let n=En.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}})}function _E(t,e){return p(this,null,function*(){try{let r=(yield IE()).transaction(qs,"readwrite");yield r.objectStore(qs).put(e,CE(t)),yield r.done}catch(n){if(n instanceof yt)ur.warn(n.message);else{let r=En.create("idb-set",{originalErrorMessage:n?.message});ur.warn(r.message)}}})}function CE(t){return`${t.name}!${t.options.appId}`}var hO=1024,fO=30*24*60*60*1e3,Tf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=fO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wE(),{heartbeatsToSend:r,unsentEntries:i}=pO(this._heartbeatsCache.heartbeats),s=Vs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function wE(){return new Date().toISOString().substring(0,10)}function pO(t,e=hO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Sf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return iE()?sE().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function EE(t){return Vs(JSON.stringify({version:2,heartbeats:t})).length}function gO(t){In(new ut("platform-logger",e=>new Ef(e),"PRIVATE")),In(new ut("heartbeat",e=>new Tf(e),"PRIVATE")),he(If,yE,t),he(If,yE,"esm2017"),he("fire-js","")}gO("");var mO="firebase",vO="10.9.0";he(mO,vO,"app");var hr=new zt("ANGULARFIRE2_VERSION");function Uc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ks=(t,e)=>{let n=e?[e]:Vc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ei=class{constructor(){return Ks(yO)}},yO="app-check";function wi(){}var jc=class{zone;delegate;constructor(e,n=uu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Mf=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wi,{},wi,wi)),n.pipe(se({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ii=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new jc(Zone.current)),this.insideAngular=n.run(()=>new jc(Zone.current,en)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(k(W))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _O(t){return Bc().ngZone.runOutsideAngular(()=>t())}function dr(t){return Bc().ngZone.run(()=>t())}function wO(t){return EO(Bc())(t)}function EO(t){return function(n){return n=n.lift(new Mf(t.ngZone)),n.pipe(rn(t.outsideAngular),nn(t.insideAngular))}}var IO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),dr(()=>t.apply(void 0,r))},Se=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=dr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wi,{},wi,wi))),r[s]=IO(r[s],n));let i=_O(()=>t.apply(this,r));if(!e)if(i instanceof x){let s=Bc();return i.pipe(rn(s.outsideAngular),nn(s.insideAngular))}else return dr(()=>i);return i instanceof x?i.pipe(wO):i instanceof Promise?dr(()=>new Promise((s,o)=>i.then(a=>dr(()=>s(a)),a=>dr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:dr(()=>i)};var Kt=class{constructor(e){return e}},fr=class{constructor(){return Vc()}};function CO(t){return t&&t.length===1?t[0]:new Kt(_i())}var Nf=new w("angularfire2._apps"),DO={provide:Kt,useFactory:CO,deps:[[new ke,Nf]]},bO={provide:fr,deps:[[new ke,Nf]]};function TO(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kt(r)}}var SO=(()=>{class t{constructor(n){he("angularfire",hr.full,"core"),he("angularfire",hr.full,"app"),he("angular",N_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(k(Ke))};static \u0275mod=Oe({type:t});static \u0275inj=Pe({providers:[DO,bO]})}return t})();function DE(t,...e){return{ngModule:SO,providers:[{provide:Nf,useFactory:TO(t),multi:!0,deps:[W,Fe,Ii,...e]}]}}var bE=Se(Af,!0);function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UE=jE,BE=new Yt("auth","Firebase",jE());var qc=new wn("@firebase/auth");function AO(t,...e){qc.logLevel<=K.WARN&&qc.warn(`Auth (${Cn}): ${t}`,...e)}function Hc(t,...e){qc.logLevel<=K.ERROR&&qc.error(`Auth (${Cn}): ${t}`,...e)}function bn(t,...e){throw Qf(t,...e)}function pr(t,...e){return Qf(t,...e)}function MO(t,e,n){let r=Object.assign(Object.assign({},UE()),{[e]:n});return new Yt("auth","Firebase",r).create(e,{appName:t.name})}function Qf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BE.create(t,...e)}function M(t,e,...n){if(!t)throw Qf(e,...n)}function Qt(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Tn(t,e){t||Qt(e)}function Pf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NO(){return TE()==="http:"||TE()==="https:"}function TE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function RO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NO()||nE()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var gr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tn(n>e,"Short delay should be less than long delay!"),this.isMobile=Us()||kc()}get(){return RO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Zf(t,e){Tn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var OO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PO=new gr(3e4,6e4);function Jf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ci(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return $E(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=cr(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Yc.fetch()(HE(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function $E(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},OO),e);try{let i=new kf(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw $c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $c(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $c(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw MO(t,u,l);bn(t,u)}}catch(i){if(i instanceof yt)throw i;bn(t,"network-request-failed",{message:String(i)})}})}function kO(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield Ci(t,e,n,r,i);return"mfaPendingCredential"in l&&bn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function HE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Zf(t.config,i):`${t.config.apiScheme}://${i}`}var kf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),PO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function $c(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=pr(t,e,r);return i.customData._tokenResponse=n,i}function FO(t,e){return p(this,null,function*(){return Ci(t,"POST","/v1/accounts:delete",e)})}function LO(t,e){return p(this,null,function*(){return Ci(t,"POST","/v1/accounts:lookup",e)})}function Qs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xf(t,e=!1){return p(this,null,function*(){let n=Te(t),r=yield n.getIdToken(e),i=ep(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qs(Rf(i.auth_time)),issuedAtTime:Qs(Rf(i.iat)),expirationTime:Qs(Rf(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Rf(t){return Number(t)*1e3}function ep(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{let i=js(n);return i?JSON.parse(i):(Hc("Failed to decode base64 JWT payload"),null)}catch(i){return Hc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VO(t){let e=ep(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zs(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof yt&&jO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ff=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qs(this.lastLoginAt),this.creationTime=Qs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Zs(t,LO(n,{idToken:r}));M(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BO(s.providerUserInfo):[],a=UO(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kc(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function tp(t){return p(this,null,function*(){let e=Te(t);yield Qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function UO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BO(t){return t.map(e=>{var{providerId:n}=e,r=du(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $O(t,e){return p(this,null,function*(){let n=yield $E(t,{},()=>p(this,null,function*(){let r=cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=HE(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HO(t,e){return p(this,null,function*(){return Ci(t,"POST","/v2/accounts:revokeToken",Jf(t,e))})}var Zc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return M(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield $O(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(M(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(M(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Qt("not implemented")}};function Dn(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Js=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=du(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ff(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Zs(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xf(this,e)}reload(){return tp(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield Zs(this,FO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ee=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:me,emailVerified:Ie,isAnonymous:Me,providerData:Ne,stsTokenManager:Xt}=n;M(me&&Xt,e,"internal-error");let Yl=Zc.fromJSON(this.name,Xt);M(typeof me=="string",e,"internal-error"),Dn(d,e.name),Dn(h,e.name),M(typeof Ie=="boolean",e,"internal-error"),M(typeof Me=="boolean",e,"internal-error"),Dn(f,e.name),Dn(g,e.name),Dn(y,e.name),Dn(b,e.name),Dn(C,e.name),Dn(ee,e.name);let Vi=new t({uid:me,auth:e,email:h,emailVerified:Ie,displayName:d,isAnonymous:Me,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Yl,createdAt:C,lastLoginAt:ee});return Ne&&Array.isArray(Ne)&&(Vi.providerData=Ne.map(YD=>Object.assign({},YD))),b&&(Vi._redirectEventId=b),Vi}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Zc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qc(s),s})}};var SE=new Map;function Zt(t){Tn(t instanceof Function,"Expected a class definition");let e=SE.get(t);return e?(Tn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SE.set(t,e),e)}var WO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Lf=WO;function Wc(t,e,n){return`firebase:${t}:${e}:${n}`}var Jc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Wc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Zt(Lf),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Zt(Lf),o=Wc(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=Js._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function AE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(KE(e))return"Webos";if(np(e))return"Safari";if((e.includes("chrome/")||zE(e))&&!e.includes("edge/"))return"Chrome";if(qE(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function WE(t=Ee()){return/firefox\//i.test(t)}function np(t=Ee()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zE(t=Ee()){return/crios\//i.test(t)}function GE(t=Ee()){return/iemobile/i.test(t)}function qE(t=Ee()){return/android/i.test(t)}function YE(t=Ee()){return/blackberry/i.test(t)}function KE(t=Ee()){return/webos/i.test(t)}function ol(t=Ee()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zO(t=Ee()){var e;return ol(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GO(){return rE()&&document.documentMode===10}function QE(t=Ee()){return ol(t)||qE(t)||KE(t)||YE(t)||/windows phone/i.test(t)||GE(t)}function qO(){try{return!!(window&&window!==window.top)}catch{return!1}}function ZE(t,e=[]){let n;switch(t){case"Browser":n=AE(Ee());break;case"Worker":n=`${AE(Ee())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cn}/${r}`}var Vf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YO(n){return p(this,arguments,function*(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",Jf(t,e))})}var KO=6,jf=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:KO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Uf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xc(this),this.idTokenSubscription=new Xc(this),this.beforeStateQueue=new Vf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zt(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xO()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Te(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Zt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield YO(this),n=new jf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zt(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=yield Jc.create(this,[Zt(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&AO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function rp(t){return Te(t)}var Xc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lE(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ip={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QO(t){ip=t}function ZO(t){return ip.loadJS(t)}function JO(){return ip.gapiScript}function JE(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sp(t,e){let n=Ys(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(yi(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function XO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zt);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function op(t,e,n){let r=rp(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=XE(e),{host:o,port:a}=eP(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tP()}function XE(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eP(t){let e=XE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ME(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ME(o)}}}function ME(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function tP(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var el=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qt("not implemented")}_getIdTokenResponse(e){return Qt("not implemented")}_linkToIdToken(e,n){return Qt("not implemented")}_getReauthenticationResolver(e){return Qt("not implemented")}};function xf(t,e){return p(this,null,function*(){return kO(t,"POST","/v1/accounts:signInWithIdp",Jf(t,e))})}var tl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Bf=class extends tl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield Js._fromIdTokenResponse(e,r,i),o=NE(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=NE(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var $f=class t extends yt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function eI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,s,e,r):s})}function nP(t,e,n=!1){return p(this,null,function*(){let r=yield Zs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xs._forOperation(t,"link",r)})}function rP(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Zs(t,eI(r,i,e,t),n);M(s.idToken,r,"internal-error");let o=ep(s.idToken);M(o,r,"internal-error");let{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&bn(r,"user-mismatch"),s}})}function iP(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield eI(t,r,e),s=yield Xs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ap(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function cp(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}var nl="__sak";var rl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function sP(){let t=Ee();return np(t)||ol(t)}var oP=1e3,aP=10,cP=(()=>{class t extends rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sP()&&qO(),this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);GO()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,aP):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Pn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Pn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Pn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),tI=cP;var lP=(()=>{class t extends rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lp=lP;function uP(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var dP=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,o)})),l=yield uP(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function nI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=nI("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ot(){return window}function hP(t){Ot().location.href=t}function rI(){return typeof Ot().WorkerGlobalScope<"u"&&typeof Ot().importScripts=="function"}function fP(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pP(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gP(){return rI()?self:null}var iI="firebaseLocalStorageDb",mP=1,il="firebaseLocalStorage",sI="fbase_key",mr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function al(t,e){return t.transaction([il],e?"readwrite":"readonly").objectStore(il)}function vP(){let t=indexedDB.deleteDatabase(iI);return new mr(t).toPromise()}function Wf(){let t=indexedDB.open(iI,mP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(il,{keyPath:sI})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(il)?e(r):(r.close(),yield vP(),e(yield Wf()))}))})}function RE(t,e,n){return p(this,null,function*(){let r=al(t,!0).put({[sI]:e,value:n});return new mr(r).toPromise()})}function yP(t,e){return p(this,null,function*(){let n=al(t,!1).get(e),r=yield new mr(n).toPromise();return r===void 0?null:r.value})}function xE(t,e){let n=al(t,!0).delete(e);return new mr(n).toPromise()}var _P=800,wP=3,EP=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Wf(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>wP)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return rI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=dP._getInstance(gP()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield fP(),!this.activeServiceWorker)return;this.sender=new Hf(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pP()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Wf();return yield RE(n,nl,"1"),yield xE(n,nl),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>RE(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>yP(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>xE(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=al(s,!1).getAll();return new mr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),oI=EP;var GG=JE("rcb"),qG=new gr(3e4,6e4);function IP(t,e){return e?Zt(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var eo=class extends el{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xf(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function CP(t){return iP(t.auth,new eo(t),t.bypassAuthState)}function DP(t){let{auth:e,user:n}=t;return M(n,e,"internal-error"),rP(n,new eo(t),t.bypassAuthState)}function bP(t){return p(this,null,function*(){let{auth:e,user:n}=t;return M(n,e,"internal-error"),nP(n,new eo(t),t.bypassAuthState)})}var zf=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CP;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return DP;default:bn(this.auth,"internal-error")}}resolve(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var YG=new gr(2e3,1e4);var TP="pendingRedirect",zc=new Map,Gf=class t extends zf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=zc.get(this.auth._key());if(!e){try{let r=(yield SP(this.resolver,this.auth))?yield Pn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Pn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Pn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function SP(t,e){return p(this,null,function*(){let n=NP(e),r=MP(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function AP(t,e){zc.set(t._key(),e)}function MP(t){return Zt(t._redirectPersistence)}function NP(t){return Wc(TP,t.config.apiKey,t.name)}function RP(t,e,n=!1){return p(this,null,function*(){let r=rp(t),i=IP(r,e),o=yield new Gf(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var xP=10*60*1e3,qf=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xP&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}};function OE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}function PP(n){return p(this,arguments,function*(t,e={}){return Ci(t,"GET","/v1/projects",e)})}var kP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FP=/^https?/;function LP(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield PP(t);for(let n of e)try{if(VP(n))return}catch{}bn(t,"unauthorized-domain")})}function VP(t){let e=Pf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FP.test(n))return!1;if(kP.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jP=new gr(3e4,6e4);function PE(){let t=Ot().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UP(t){return new Promise((e,n)=>{var r,i,s;function o(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(pr(t,"network-request-failed"))},timeout:jP.get()})}if(!((i=(r=Ot().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ot().gapi)===null||s===void 0)&&s.load)o();else{let a=JE("iframefcb");return Ot()[a]=()=>{gapi.load?o():n(pr(t,"network-request-failed"))},ZO(`${JO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Gc=null,e})}var Gc=null;function BP(t){return Gc=Gc||UP(t),Gc}var $P=new gr(5e3,15e3),HP="__/auth/iframe",WP="emulator/auth/iframe",zP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qP(t){let e=t.config;M(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Zf(e,WP):`https://${t.config.authDomain}/${HP}`,r={apiKey:e.apiKey,appName:t.name,v:Cn},i=GP.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cr(r).slice(1)}`}function YP(t){return p(this,null,function*(){let e=yield BP(t),n=Ot().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:qP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zP,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=pr(t,"network-request-failed"),a=Ot().setTimeout(()=>{s(o)},$P.get());function c(){Ot().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,ZP=600,JP="_blank",XP="http://localhost",sl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ek(t,e,n,r=QP,i=ZP){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},KP),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ee().toLowerCase();n&&(a=zE(l)?JP:n),WE(l)&&(e=e||XP,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(zO(l)&&a!=="_self")return tk(e||"",a),new sl(null);let d=window.open(e||"",a,u);M(d,t,"popup-blocked");try{d.focus()}catch{}return new sl(d)}function tk(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nk="__/auth/handler",rk="emulator/auth/handler",ik=encodeURIComponent("fac");function kE(t,e,n,r,i,s){return p(this,null,function*(){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cn,eventId:i};if(e instanceof tl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bs(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Bf){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${ik}=${encodeURIComponent(c)}`:"";return`${sk(t)}?${cr(a).slice(1)}${l}`})}function sk({config:t}){return t.emulator?Zf(t,rk):`https://${t.authDomain}/${nk}`}var Of="webStorageSupport",Yf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lp,this._completeRedirectFn=RP,this._overrideRedirectResult=AP}_openPopup(e,n,r,i){return p(this,null,function*(){var s;Tn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield kE(e,n,r,Pf(),i);return ek(e,o,nI())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield kE(e,n,r,Pf(),i);return hP(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield YP(e),r=new qf(e);return n.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Of,{type:Of},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Of];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||np()||ol()}},cI=Yf;var FE="@firebase/auth",LE="1.6.2";var Kf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ok(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ak(t){In(new ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(t)},l=new Uf(r,i,s,c);return XO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new ut("auth-internal",e=>{let n=rp(e.getProvider("auth").getImmediate());return(r=>new Kf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),he(FE,LE,ok(t)),he(FE,LE,"esm2017")}var ck=5*60,lk=pf("authIdTokenMaxAge")||ck,VE=null,uk=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lk)return;let i=n?.token;VE!==i&&(VE=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function up(t=_i()){let e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();let n=sp(t,{popupRedirectResolver:cI,persistence:[oI,tI,lp]}),r=pf("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){let s=uk(r);cp(n,s,()=>s(n.currentUser)),ap(n,o=>s(o))}let i=hf("auth");return i&&op(n,`http://${i}`),n}function dk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ak("Browser");var lI="auth",to=class{constructor(e){return e}},no=class{constructor(){return Ks(lI)}};var dp=new w("angularfire2.auth-instances");function sF(t,e){let n=Uc(lI,t,e);return n&&new to(n)}function oF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new to(r)}}var aF={provide:no,deps:[[new ke,dp]]},cF={provide:to,useFactory:sF,deps:[[new ke,dp],Kt]},lF=(()=>{class t{constructor(){he("angularfire",hr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oe({type:t});static \u0275inj=Pe({providers:[cF,aF]})}return t})();function uI(t,...e){return{ngModule:lF,providers:[{provide:dp,useFactory:oF(t),multi:!0,deps:[W,Fe,Ii,fr,[new ke,Ei],...e]}]}}var dI=Se(up,!0);var hI="@firebase/database",fI="1.0.3";var pg="";function uF(t){pg=t}var _p=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),le(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var wp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var GI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _p(e)}}catch{}return new wp},yr=GI("localStorage"),Ep=GI("sessionStorage");var Ti=new wn("@firebase/database"),dF=function(){let t=1;return function(){return t++}}(),qI=function(t){let e=uE(t),n=new Oc;n.update(e);let r=n.digest();return Pc.encodeByteArray(r)},Io=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Io.apply(null,r):typeof r=="object"?e+=le(r):e+=r,e+=" "}return e},wr=null,pI=!0,hF=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ti.logLevel=K.VERBOSE,wr=Ti.log.bind(Ti),e&&Ep.set("logging_enabled",!0)):typeof t=="function"?wr=t:(wr=null,Ep.remove("logging_enabled"))},Ce=function(...t){if(pI===!0&&(pI=!1,wr===null&&Ep.get("logging_enabled")===!0&&hF(!0)),wr){let e=Io.apply(null,t);wr(e)}},Co=function(t){return function(...e){Ce(t,...e)}},Ip=function(...t){let e="FIREBASE INTERNAL ERROR: "+Io(...t);Ti.error(e)},Jt=function(...t){let e=`FIREBASE FATAL ERROR: ${Io(...t)}`;throw Ti.error(e),new Error(e)},Ve=function(...t){let e="FIREBASE WARNING: "+Io(...t);Ti.warn(e)},fF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pF=function(t){if(Rt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Er="[MIN_NAME]",Nn="[MAX_NAME]",Pi=function(t,e){if(t===e)return 0;if(t===Er||e===Nn)return-1;if(e===Er||t===Nn)return 1;{let n=gI(t),r=gI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gF=function(t,e){return t===e?0:t<e?-1:1},ro=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+le(e))},mg=function(t){if(typeof t!="object"||t===null)return le(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=le(e[r]),n+=":",n+=mg(t[e[r]]);return n+="}",n},YI=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function je(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var KI=function(t){m(!gg(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},mF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var _F=new RegExp("^-?(0*)\\d{1,10}$"),wF=-2147483648,EF=2147483647,gI=function(t){if(_F.test(t)){let e=Number(t);if(e>=wF&&e<=EF)return e}return null},ki=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ve("Exception was thrown by user callback.",n),e},Math.floor(0))}},IF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},co=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Cp=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Dp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ce("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(e)}},lo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),ll="5",QI="v",ZI="s",JI="r",XI="f",eC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tC="ls",nC="p",bp="ac",rC="websocket",iC="long_polling";var ul=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function CF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sC(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===rC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CF(t)&&(n.ns=t.namespace);let i=[];return je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Tp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Jw(this.counters_)}};var hp={},fp={};function vg(t){let e=t.toString();return hp[e]||(hp[e]=new Tp),hp[e]}function DF(t,e){let n=t.toString();return fp[n]||(fp[n]=e()),fp[n]}var Sp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ki(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var mI="start",bF="close",TF="pLPCommand",SF="pRTLPCB",oC="id",aC="pw",cC="ser",AF="cb",MF="seg",NF="ts",RF="d",xF="dframe",lC=1870,uC=30,OF=lC-uC,PF=25e3,kF=3e4,Ap=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Co(e),this.stats_=vg(n),this.urlFn=c=>(this.appCheckToken&&(c[bp]=this.appCheckToken),sC(n,iC,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Sp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kF)),pF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mp((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===mI)this.id=a,this.password=c;else if(o===bF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[mI]="t",r[cC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[QI]=ll,this.transportSessionId&&(r[ZI]=this.transportSessionId),this.lastSessionId&&(r[tC]=this.lastSessionId),this.applicationId&&(r[nC]=this.applicationId),this.appCheckToken&&(r[bp]=this.appCheckToken),typeof location<"u"&&location.hostname&&eC.test(location.hostname)&&(r[JI]=XI);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Rt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mF()&&!vF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=uf(n),i=YI(r,OF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Rt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[xF]="t",r[oC]=e,r[aC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Mp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Rt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=dF(),window[TF+this.uniqueCallbackIdentifier]=e,window[SF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ce("frame writing exception"),a.stack&&Ce(a.stack),Ce(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ce("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[oC]=this.myID,e[aC]=this.myPW,e[cC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uC+r.length<=lC;){let o=this.pendingSegs.shift();r=r+"&"+MF+i+"="+o.seg+"&"+NF+i+"="+o.ts+"&"+RF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(PF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Rt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ce("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var FF=16384,LF=45e3,dl=null;typeof MozWebSocket<"u"?dl=MozWebSocket:typeof WebSocket<"u"&&(dl=WebSocket);var io=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Co(this.connId),this.stats_=vg(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[QI]=ll,!Rt()&&typeof location<"u"&&location.hostname&&eC.test(location.hostname)&&(a[JI]=XI),r&&(a[ZI]=r),i&&(a[tC]=i),s&&(a[bp]=s),o&&(a[nC]=o),sC(n,rC,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yr.set("previous_websocket_failure",!0);try{let i;if(Rt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ll}/${pg}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new dl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&dl!==null&&!t.forceDisallow_}static previouslyFailed(){return yr.isInMemoryStorage||yr.get("previous_websocket_failure")===!0}markConnectionHealthy(){yr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=vi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=le(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=YI(r,FF);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),VF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ap,io]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=io&&io.isAvailable(),i=r&&!io.previouslyFailed();if(n.webSocketOnly&&(r||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[io];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),jF=6e4,UF=5e3,BF=10*1024,$F=100*1024,pp="t",vI="d",HF="s",yI="r",WF="e",_I="o",wI="a",EI="n",II="p",zF="h",Np=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Co("c:"+this.id+":"),this.transportManager_=new VF(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$F?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pp in e){let n=e[pp];n===wI?this.upgradeIfSecondaryHealthy_():n===yI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_I&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ro("t",e),r=ro("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:II,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:EI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ro("t",e),r=ro("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ro(pp,e);if(vI in e){let r=e[vI];if(n===zF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===EI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HF?this.onConnectionShutdown_(r):n===yI?this.onReset_(r):n===WF?Ip("Server Error: "+r):n===_I?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ip("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ll!==r&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:II,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var hl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var fl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var pl=class t extends fl{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Us()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var CI=32,DI=768,Q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function z(){return new Q("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rn(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function dC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function GF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function fe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Q(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function Ae(t,e){let n=L(t),r=L(e);if(n===null)return e;if(n===r)return Ae(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yg(t,e){if(Rn(t)!==Rn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Rn(t)>Rn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Rp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=hC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ws(this.parts_[r]);pC(this)}};function qF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ws(e),pC(t)}function YF(t){let e=t.parts_.pop();t.byteLength_-=Ws(e),t.parts_.length>0&&(t.byteLength_-=1)}function pC(t){if(t.byteLength_>DI)throw new Error(t.errorPrefix_+"has a key path longer than "+DI+" bytes ("+t.byteLength_+").");if(t.parts_.length>CI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+CI+") or object contains a cycle "+vr(t))}function vr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var xp=class t extends fl{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var so=1e3,KF=60*5*1e3,bI=30*1e3,QF=1.3,ZF=3e4,JF="server_kill",TI=3,_g=(()=>{class t extends hl{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Co("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=so,this.maxReconnectDelay_=KF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&pl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(le(o)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new _n,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&_t(n,"w")){let i=ar(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||cE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=aE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+le(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ip("Unrecognized action received from server: "+le(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZF&&(this.reconnectDelay_=so),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QF)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ce("getToken() completed but was canceled"):(Ce("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Np(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{Ve(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(JF)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ve(h),l())}}})}interrupt(n){Ce("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ce("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Bs(this.interruptReasons_)&&(this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>mg(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Q(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ce("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=TI&&(this.reconnectDelay_=bI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ce("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=TI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Rt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+pg.replace(/\./g,"-")]=1,Us()?n["framework.cordova"]=1:kc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=pl.getInstance().currentlyOnline();return Bs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),V=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Si=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new V(Er,e),i=new V(Er,n);return this.compare(r,i)!==0}minPost(){return V.MIN}};var cl,gl=class extends Si{static get __EMPTY_NODE(){return cl}static set __EMPTY_NODE(e){cl=e}compare(e,n){return Pi(e.name,n.name)}isDefinedOn(e){throw or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Nn,cl)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,cl)}toString(){return".key"}},Sn=new gl;var bi=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},wt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??dt.EMPTY_NODE,this.right=o??dt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return dt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Op=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},dt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bi(this.root_,null,this.comparator_,!0,e)}};dt.EMPTY_NODE=new Op;function XF(t,e){return Pi(t.name,e.name)}function wg(t,e){return Pi(t,e)}var Pp;function eL(t){Pp=t}var gC=function(t){return typeof t=="number"?"number:"+KI(t):"string:"+t},mC=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else m(t===Pp||t.isEmpty(),"priority of unexpected type.");m(t===Pp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var SI,Ai=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mC(this.priorityNode_)}static set __childrenNodeConstructor(n){SI=n}static get __childrenNodeConstructor(){return SI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $(n)?this:L(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=L(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Rn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+gC(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=KI(this.value_):n+=this.value_,this.lazyHash_=qI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return m(s>=0,"Unknown leaf type: "+r),m(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),vC,yC;function tL(t){vC=t}function nL(t){yC=t}var kp=class extends Si{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Pi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Nn,new Ai("[PRIORITY-POST]",yC))}makePost(e,n){let r=vC(e);return new V(n,new Ai("[PRIORITY-POST]",r))}toString(){return".priority"}},ne=new kp;var rL=Math.log(2),Fp=class{constructor(e){let n=s=>parseInt(Math.log(s)/rL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},ml=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new wt(h,d.node,wt.BLACK,null,null);{let f=parseInt(u/2,10)+c,g=i(c,f),y=i(f+1,l);return d=t[f],h=n?n(d):d,new wt(h,d.node,wt.BLACK,g,y)}},s=function(c){let l=null,u=null,d=t.length,h=function(g,y){let b=d-g,C=d;d-=g;let ee=i(b+1,C),me=t[b],Ie=n?n(me):me;f(new wt(Ie,me.node,y,null,ee))},f=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let y=c.nextBitIsOne(),b=Math.pow(2,c.count-(g+1));y?h(b,wt.BLACK):(h(b,wt.BLACK),h(b,wt.RED))}return u},o=new Fp(t.length),a=s(o);return new dt(r||e,a)};var gp,Di={},Mi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Di&&ne,"ChildrenNode.ts has not been loaded"),gp=gp||new t({".priority":Di},{".priority":ne}),gp}get(e){let n=ar(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Sn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(V.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ml(r,e.getCompare()):a=Di;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=$s(this.indexes_,(i,s)=>{let o=ar(this.indexSet_,s);if(m(o,"Missing index implementation for "+s),i===Di)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(V.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),ml(a,o.getCompare())}else return Di;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new V(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=$s(this.indexes_,i=>{if(i===Di)return i;{let s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new t(r,this.indexSet_)}};var oo,N=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mC(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oo||(oo=new t(new dt(wg),null,Mi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?oo:r}}getChild(n){let r=L(n);return r===null?this:this.getImmediateChild(r).getChild(J(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new V(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?oo:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=L(n);if(i===null)return r;{m(L(n)!==".priority"||Rn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(J(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ne,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+gC(this.getPriority().val())+":"),this.forEachChild(ne,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":qI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new V(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new V(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new V(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,V.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,V.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Do?-1:0}withIndex(n){if(n===Sn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Sn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ne),s=r.getIterator(ne),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Sn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Lp=class extends N{constructor(){super(new dt(wg),N.EMPTY_NODE,Mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return N.EMPTY_NODE}isEmpty(){return!1}},Do=new Lp;Object.defineProperties(V,{MIN:{value:new V(Er,N.EMPTY_NODE)},MAX:{value:new V(Nn,Do)}});gl.__EMPTY_NODE=N.EMPTY_NODE;Ai.__childrenNodeConstructor=N;eL(Do);nL(Do);var iL=!0;function ge(t,e=null){if(t===null)return N.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ai(n,ge(e))}if(!(t instanceof Array)&&iL){let n=[],r=!1;if(je(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=ge(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new V(o,c)))}}),n.length===0)return N.EMPTY_NODE;let s=ml(n,XF,o=>o.name,wg);if(r){let o=ml(n,ne.getCompare());return new N(s,ge(e),new Mi({".priority":o},{".priority":ne}))}else return new N(s,ge(e),Mi.Default)}else{let n=N.EMPTY_NODE;return je(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){let s=ge(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ge(e))}}tL(ge);var vl=class extends Si{constructor(e){super(),this.indexPath_=e,m(!$(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Pi(e.name,n.name):s}makePost(e,n){let r=ge(e),i=N.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){let e=N.EMPTY_NODE.updateChild(this.indexPath_,Do);return new V(Nn,e)}toString(){return hC(this.indexPath_,0).join("/")}};var Vp=class extends Si{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Pi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){let r=ge(e);return new V(n,r)}toString(){return".value"}},_C=new Vp;function wC(t){return{type:"value",snapshotNode:t}}function Ni(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function po(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function go(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var mo=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(po(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ni(n,r)):o.trackChildChange(go(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ne,(i,s)=>{n.hasChild(i)||r.trackChildChange(po(i,s))}),n.isLeafNode()||n.forEachChild(ne,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(go(i,s,o))}else r.trackChildChange(Ni(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?N.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var yl=class t{constructor(e){this.indexedFilter_=new mo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=N.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=N.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(N.EMPTY_NODE);let s=this;return n.forEachChild(ne,(o,a)=>{s.matches(new V(o,a))||(i=i.updateImmediateChild(o,N.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var jp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=N.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=N.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=N.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(N.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new V(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,c);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(go(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(po(n,d));let y=a.updateImmediateChild(n,N.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Ni(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:u&&o(l,c)>=0?(s!=null&&(s.trackChildChange(po(l.name,l.node)),s.trackChildChange(Ni(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,N.EMPTY_NODE)):e}};var Up=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Er}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ne}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function oL(t){return t.loadsAllData()?new mo(t.getIndex()):t.hasLimit()?new jp(t):new yl(t)}function aL(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function cL(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function lL(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function uL(t,e){let n=t.copy();return n.index_=e,n}function AI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ne?n="$priority":t.index_===_C?n="$value":t.index_===Sn?n="$key":(m(t.index_ instanceof vl,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=le(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+le(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function MI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ne&&(e.i=t.index_.toString()),e}var Bp=class t extends hl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Co("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=AI(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),ar(this.listens_,o)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=AI(e._queryParams),r=e._path.toString(),i=new _n;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=vi(a.responseText)}catch{Ve("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ve("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var $p=class{constructor(){this.rootNode_=N.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function _l(){return{value:null,children:new Map}}function EC(t,e,n){if($(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=L(e);t.children.has(r)||t.children.set(r,_l());let i=t.children.get(r);e=J(e),EC(i,e,n)}}function Hp(t,e,n){t.value!==null?n(e,t.value):dL(t,(r,i)=>{let s=new Q(e.toString()+"/"+r);Hp(i,s,n)})}function dL(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Wp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var NI=10*1e3,hL=30*1e3,fL=5*60*1e3,zp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Wp(e);let r=NI+(hL-NI)*Math.random();co(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;je(e,(i,s)=>{s>0&&_t(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),co(this.reportStats_.bind(this),Math.floor(Math.random()*2*fL))}};var Pt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Pt||{});function IC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Eg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ig(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Gp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=IC()}operationForChild(e){if($(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(e));return new t(z(),n,this.revert)}}else return m(L(this.path)===e,"operationForChild called for unrelated child."),new t(J(this.path),this.affectedTree,this.revert)}};var wl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(e){return $(this.path)?new t(this.source,z()):new t(this.source,J(this.path))}};var Ri=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(e){return $(this.path)?new t(this.source,z(),this.snap.getImmediateChild(e)):new t(this.source,J(this.path),this.snap)}};var El=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(e){if($(this.path)){let n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new Ri(this.source,z(),n.value):new t(this.source,z(),n)}else return m(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var kt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;let n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var qp=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function pL(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sL(o.childName,o.snapshotNode))}),ao(t,i,"child_removed",e,r,n),ao(t,i,"child_added",e,r,n),ao(t,i,"child_moved",s,r,n),ao(t,i,"child_changed",e,r,n),ao(t,i,"value",e,r,n),i}function ao(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>mL(t,a,c)),o.forEach(a=>{let c=gL(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function gL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mL(t,e,n){if(e.childName==null||n.childName==null)throw or("Should only compare child_ events.");let r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function kl(t,e){return{eventCache:t,serverCache:e}}function uo(t,e,n,r){return kl(new kt(e,n,r),t.serverCache)}function CC(t,e,n,r){return kl(t.eventCache,new kt(e,n,r))}function Il(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ir(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var mp,vL=()=>(mp||(mp=new dt(gF)),mp),Ue=class t{constructor(e,n=vL()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return je(e,(r,i)=>{n=n.set(new Q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:z(),value:this.value};if($(e))return null;{let r=L(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(J(e),n);return s!=null?{path:fe(new Q(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($(e))return this;{let n=L(e),r=this.children.get(n);return r!==null?r.subtree(J(e)):new t(null)}}set(e,n){if($(e))return new t(n,this.children);{let r=L(e),s=(this.children.get(r)||new t(null)).set(J(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if($(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=L(e),r=this.children.get(n);if(r){let i=r.remove(J(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if($(e))return this.value;{let n=L(e),r=this.children.get(n);return r?r.get(J(e)):null}}setTree(e,n){if($(e))return n;{let r=L(e),s=(this.children.get(r)||new t(null)).setTree(J(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(z(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,z(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if($(e))return null;{let s=L(e),o=this.children.get(s);return o?o.findOnPath_(J(e),fe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,z(),n)}foreachOnPath_(e,n,r){if($(e))return this;{this.value&&r(n,this.value);let i=L(e),s=this.children.get(i);return s?s.foreachOnPath_(J(e),fe(n,i),r):new t(null)}}foreach(e){this.foreach_(z(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var It=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ue(null))}};function ho(t,e,n){if($(e))return new It(new Ue(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Ae(i,e);return s=s.updateChild(o,n),new It(t.writeTree_.set(i,s))}else{let i=new Ue(n),s=t.writeTree_.setTree(e,i);return new It(s)}}}function RI(t,e,n){let r=t;return je(n,(i,s)=>{r=ho(r,fe(e,i),s)}),r}function xI(t,e){if($(e))return It.empty();{let n=t.writeTree_.setTree(e,new Ue(null));return new It(n)}}function Yp(t,e){return Dr(t,e)!=null}function Dr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ae(n.path,e)):null}function OI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ne,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function An(t,e){if($(e))return t;{let n=Dr(t,e);return n!=null?new It(new Ue(n)):new It(t.writeTree_.subtree(e))}}function Kp(t){return t.writeTree_.isEmpty()}function xi(t,e){return DC(z(),t.writeTree_,e)}function DC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(m(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=DC(fe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fe(t,".priority"),r)),n}}function Fl(t,e){return AC(e,t)}function yL(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ho(t.visibleWrites,e,n)),t.lastWriteId=r}function _L(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wL(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&EL(a,r.path)?i=!1:Et(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return IL(t),!0;if(r.snap)t.visibleWrites=xI(t.visibleWrites,r.path);else{let a=r.children;je(a,c=>{t.visibleWrites=xI(t.visibleWrites,fe(r.path,c))})}return!0}else return!1}function EL(t,e){if(t.snap)return Et(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Et(fe(t.path,n),e))return!0;return!1}function IL(t){t.visibleWrites=bC(t.allWrites,CL,z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CL(t){return t.visible}function bC(t,e,n){let r=It.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Et(n,o)?(a=Ae(n,o),r=ho(r,a,s.snap)):Et(o,n)&&(a=Ae(o,n),r=ho(r,z(),s.snap.getChild(a)));else if(s.children){if(Et(n,o))a=Ae(n,o),r=RI(r,a,s.children);else if(Et(o,n))if(a=Ae(o,n),$(a))r=RI(r,z(),s.children);else{let c=ar(s.children,L(a));if(c){let l=c.getChild(J(a));r=ho(r,z(),l)}}}else throw or("WriteRecord should have .snap or .children")}}return r}function TC(t,e,n,r,i){if(!r&&!i){let s=Dr(t.visibleWrites,e);if(s!=null)return s;{let o=An(t.visibleWrites,e);if(Kp(o))return n;if(n==null&&!Yp(o,z()))return null;{let a=n||N.EMPTY_NODE;return xi(o,a)}}}else{let s=An(t.visibleWrites,e);if(!i&&Kp(s))return n;if(!i&&n==null&&!Yp(s,z()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Et(l.path,e)||Et(e,l.path))},a=bC(t.allWrites,o,e),c=n||N.EMPTY_NODE;return xi(a,c)}}}function DL(t,e,n){let r=N.EMPTY_NODE,i=Dr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ne,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=An(t.visibleWrites,e);return n.forEachChild(ne,(o,a)=>{let c=xi(An(s,new Q(o)),a);r=r.updateImmediateChild(o,c)}),OI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=An(t.visibleWrites,e);return OI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bL(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=fe(e,n);if(Yp(t.visibleWrites,s))return null;{let o=An(t.visibleWrites,s);return Kp(o)?i.getChild(n):xi(o,i.getChild(n))}}function TL(t,e,n,r){let i=fe(e,n),s=Dr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=An(t.visibleWrites,i);return xi(o,r.getNode().getImmediateChild(n))}else return null}function SL(t,e){return Dr(t.visibleWrites,e)}function AL(t,e,n,r,i,s,o){let a,c=An(t.visibleWrites,e),l=Dr(c,z());if(l!=null)a=l;else if(n!=null)a=xi(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function ML(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function Cl(t,e,n,r){return TC(t.writeTree,t.treePath,e,n,r)}function Cg(t,e){return DL(t.writeTree,t.treePath,e)}function PI(t,e,n,r){return bL(t.writeTree,t.treePath,e,n,r)}function Dl(t,e){return SL(t.writeTree,fe(t.treePath,e))}function NL(t,e,n,r,i,s){return AL(t.writeTree,t.treePath,e,n,r,i,s)}function Dg(t,e,n){return TL(t.writeTree,t.treePath,e,n)}function SC(t,e){return AC(fe(t.treePath,e),t.writeTree)}function AC(t,e){return{treePath:t,writeTree:e}}var Qp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,go(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,po(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ni(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,go(r,e.snapshotNode,i.oldSnap));else throw or("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Zp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},MC=new Zp,vo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ir(this.viewCache_),s=NL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function RL(t){return{filter:t}}function xL(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function OL(t,e,n,r,i){let s=new Qp,o,a;if(n.type===Pt.OVERWRITE){let l=n;l.source.fromUser?o=Jp(t,e,l.path,l.snap,r,i,s):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!$(l.path),o=bl(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===Pt.MERGE){let l=n;l.source.fromUser?o=kL(t,e,l.path,l.children,r,i,s):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Xp(t,e,l.path,l.children,r,i,a,s))}else if(n.type===Pt.ACK_USER_WRITE){let l=n;l.revert?o=VL(t,e,l.path,r,i,s):o=FL(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Pt.LISTEN_COMPLETE)o=LL(t,e,n.path,r,s);else throw or("Unknown operation type: "+n.type);let c=s.getChanges();return PL(e,o,c),{viewCache:o,changes:c}}function PL(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Il(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wC(Il(e)))}}function NC(t,e,n,r,i,s){let o=e.eventCache;if(Dl(r,n)!=null)return e;{let a,c;if($(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Ir(e),u=l instanceof N?l:N.EMPTY_NODE,d=Cg(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=Cl(r,Ir(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=L(n);if(l===".priority"){m(Rn(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=PI(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=J(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let h=PI(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(l).updateChild(u,h):d=o.getNode().getImmediateChild(l)}else d=Dg(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return uo(e,a,o.isFullyInitialized()||$(n),t.filter.filtersNodes())}}function bl(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if($(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{let f=L(n);if(!c.isCompleteForPath(n)&&Rn(n)>1)return e;let g=J(n),b=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?l=u.updatePriority(c.getNode(),b):l=u.updateChild(c.getNode(),f,b,g,MC,null)}let d=CC(e,l,c.isFullyInitialized()||$(n),u.filtersNodes()),h=new vo(i,d,s);return NC(t,d,n,i,h,a)}function Jp(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new vo(i,e,s);if($(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=uo(e,l,!0,t.filter.filtersNodes());else{let d=L(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=uo(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=J(n),f=a.getNode().getImmediateChild(d),g;if($(h))g=r;else{let y=u.getCompleteChild(d);y!=null?dC(h)===".priority"&&y.getChild(fC(h)).isEmpty()?g=y:g=y.updateChild(h,r):g=N.EMPTY_NODE}if(f.equals(g))c=e;else{let y=t.filter.updateChild(a.getNode(),d,g,h,u,o);c=uo(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function kI(t,e){return t.eventCache.isCompleteForChild(e)}function kL(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=fe(n,c);kI(e,L(u))&&(a=Jp(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=fe(n,c);kI(e,L(u))||(a=Jp(t,a,u,l,i,s,o))}),a}function FI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Xp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;$(n)?l=r:l=new Ue(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=FI(t,f,h);c=bl(t,c,new Q(d),g,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),y=FI(t,g,h);c=bl(t,c,new Q(d),y,i,s,o,a)}}),c}function FL(t,e,n,r,i,s,o){if(Dl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if($(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bl(t,e,n,c.getNode().getChild(n),i,s,a,o);if($(n)){let l=new Ue(null);return c.getNode().forEachChild(Sn,(u,d)=>{l=l.set(new Q(u),d)}),Xp(t,e,n,l,i,s,a,o)}else return e}else{let l=new Ue(null);return r.foreach((u,d)=>{let h=fe(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),Xp(t,e,n,l,i,s,a,o)}}function LL(t,e,n,r,i){let s=e.serverCache,o=CC(e,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered());return NC(t,o,n,r,MC,i)}function VL(t,e,n,r,i,s){let o;if(Dl(r,n)!=null)return e;{let a=new vo(r,e,i),c=e.eventCache.getNode(),l;if($(n)||L(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Cl(r,Ir(e));else{let d=e.serverCache.getNode();m(d instanceof N,"serverChildren would be complete if leaf node"),u=Cg(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=L(n),d=Dg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,J(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,N.EMPTY_NODE,J(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Cl(r,Ir(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Dl(r,z())!=null,uo(e,l,o,t.filter.filtersNodes())}}var eg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new mo(r.getIndex()),s=oL(r);this.processor_=RL(s);let o=n.serverCache,a=n.eventCache,c=i.updateFullNode(N.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(N.EMPTY_NODE,a.getNode(),null),u=new kt(c,o.isFullyInitialized(),i.filtersNodes()),d=new kt(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=kl(d,u),this.eventGenerator_=new qp(this.query_)}get query(){return this.query_}};function jL(t){return t.viewCache_.serverCache.getNode()}function UL(t){return Il(t.viewCache_)}function BL(t,e){let n=Ir(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function LI(t){return t.eventRegistrations_.length===0}function $L(t,e){t.eventRegistrations_.push(e)}function VI(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function jI(t,e,n,r){e.type===Pt.MERGE&&e.source.queryId!==null&&(m(Ir(t.viewCache_),"We should always have a full cache before handling merges"),m(Il(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=OL(t.processor_,i,e,n,r);return xL(t.processor_,s.viewCache),m(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,RC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function HL(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ne,(s,o)=>{r.push(Ni(s,o))}),n.isFullyInitialized()&&r.push(wC(n.getNode())),RC(t,r,n.getNode(),e)}function RC(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return pL(t.eventGenerator_,e,n,i)}var Tl,Sl=class{constructor(){this.views=new Map}};function WL(t){m(!Tl,"__referenceConstructor has already been defined"),Tl=t}function zL(){return m(Tl,"Reference.ts has not been loaded"),Tl}function GL(t){return t.views.size===0}function bg(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return m(s!=null,"SyncTree gave us an op for an invalid query."),jI(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(jI(o,e,n,r));return s}}function xC(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Cl(n,i?r:null),c=!1;a?c=!0:r instanceof N?(a=Cg(n,r),c=!1):(a=N.EMPTY_NODE,c=!1);let l=kl(new kt(a,c,!1),new kt(r,i,!1));return new eg(e,l)}return o}function qL(t,e,n,r,i,s){let o=xC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$L(o,n),HL(o,n)}function YL(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=xn(t);if(i==="default")for(let[c,l]of t.views.entries())o=o.concat(VI(l,n,r)),LI(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{let c=t.views.get(i);c&&(o=o.concat(VI(c,n,r)),LI(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!xn(t)&&s.push(new(zL())(e._repo,e._path)),{removed:s,events:o}}function OC(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Mn(t,e){let n=null;for(let r of t.views.values())n=n||BL(r,e);return n}function PC(t,e){if(e._queryParams.loadsAllData())return Ll(t);{let r=e._queryIdentifier;return t.views.get(r)}}function kC(t,e){return PC(t,e)!=null}function xn(t){return Ll(t)!=null}function Ll(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Al;function KL(t){m(!Al,"__referenceConstructor has already been defined"),Al=t}function QL(){return m(Al,"Reference.ts has not been loaded"),Al}var ZL=1,Ml=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=ML(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function FC(t,e,n,r,i){return yL(t.pendingWriteTree_,e,n,r,i),i?To(t,new Ri(IC(),e,n)):[]}function _r(t,e,n=!1){let r=_L(t.pendingWriteTree_,e);if(wL(t.pendingWriteTree_,e)){let s=new Ue(null);return r.snap!=null?s=s.set(z(),!0):je(r.children,o=>{s=s.set(new Q(o),!0)}),To(t,new Gp(r.path,s,n))}else return[]}function bo(t,e,n){return To(t,new Ri(Eg(),e,n))}function JL(t,e,n){let r=Ue.fromObject(n);return To(t,new El(Eg(),e,r))}function XL(t,e){return To(t,new wl(Eg(),e))}function e1(t,e,n){let r=Sg(t,n);if(r){let i=Ag(r),s=i.path,o=i.queryId,a=Ae(s,e),c=new wl(Ig(o),a);return Mg(t,s,c)}else return[]}function Nl(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||kC(o,e))){let c=YL(o,e,n,r);GL(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>xn(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=r1(h);for(let g=0;g<f.length;++g){let y=f[g],b=y.query,C=UC(t,y);t.listenProvider_.startListening(fo(b),yo(t,b),C.hashFn,C.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(fo(e),null):l.forEach(h=>{let f=t.queryToTagMap.get(Vl(h));t.listenProvider_.stopListening(fo(h),f)}))}i1(t,l)}return a}function LC(t,e,n,r){let i=Sg(t,r);if(i!=null){let s=Ag(i),o=s.path,a=s.queryId,c=Ae(o,e),l=new Ri(Ig(a),c,n);return Mg(t,o,l)}else return[]}function t1(t,e,n,r){let i=Sg(t,r);if(i){let s=Ag(i),o=s.path,a=s.queryId,c=Ae(o,e),l=Ue.fromObject(n),u=new El(Ig(a),c,l);return Mg(t,o,u)}else return[]}function tg(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let g=Ae(h,i);s=s||Mn(f,g),o=o||xn(f)});let a=t.syncPointTree_.get(i);a?(o=o||xn(a),s=s||Mn(a,z())):(a=new Sl,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=N.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,g)=>{let y=Mn(g,z());y&&(s=s.updateImmediateChild(f,y))}));let l=kC(a,e);if(!l&&!e._queryParams.loadsAllData()){let h=Vl(e);m(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=s1();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=Fl(t.pendingWriteTree_,i),d=qL(a,e,n,u,s,c);if(!l&&!o&&!r){let h=PC(a,e);d=d.concat(o1(t,e,h))}return d}function Tg(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=Ae(o,e),l=Mn(a,c);if(l)return l});return TC(i,e,s,n,!0)}function n1(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ae(l,n);r=r||Mn(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Mn(i,z()):(i=new Sl,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new kt(r,!0,!1):null,a=Fl(t.pendingWriteTree_,e._path),c=xC(i,e,a,s?o.getNode():N.EMPTY_NODE,s);return UL(c)}function To(t,e){return VC(e,t.syncPointTree_,null,Fl(t.pendingWriteTree_,z()))}function VC(t,e,n,r){if($(t.path))return jC(t,e,n,r);{let i=e.get(z());n==null&&i!=null&&(n=Mn(i,z()));let s=[],o=L(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=SC(r,o);s=s.concat(VC(a,c,l,u))}return i&&(s=s.concat(bg(i,t,r,n))),s}}function jC(t,e,n,r){let i=e.get(z());n==null&&i!=null&&(n=Mn(i,z()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=SC(r,o),u=t.operationForChild(o);u&&(s=s.concat(jC(u,a,c,l)))}),i&&(s=s.concat(bg(i,t,r,n))),s}function UC(t,e){let n=e.query,r=yo(t,n);return{hashFn:()=>(jL(e)||N.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?e1(t,n._path,r):XL(t,n._path);{let s=yF(i,n);return Nl(t,n,null,s)}}}}function yo(t,e){let n=Vl(e);return t.queryToTagMap.get(n)}function Vl(t){return t._path.toString()+"$"+t._queryIdentifier}function Sg(t,e){return t.tagToQueryMap.get(e)}function Ag(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function Mg(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=Fl(t.pendingWriteTree_,e);return bg(r,n,i,null)}function r1(t){return t.fold((e,n,r)=>{if(n&&xn(n))return[Ll(n)];{let i=[];return n&&(i=OC(n)),je(r,(s,o)=>{i=i.concat(o)}),i}})}function fo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QL())(t._repo,t._path):t}function i1(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Vl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function s1(){return ZL++}function o1(t,e,n){let r=e._path,i=yo(t,e),s=UC(t,n),o=t.listenProvider_.startListening(fo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!xn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!$(l)&&u&&xn(u))return[Ll(u).query];{let h=[];return u&&(h=h.concat(OC(u).map(f=>f.query))),je(d,(f,g)=>{h=h.concat(g)}),h}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(fo(u),yo(t,u))}}return o}var ng=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},rg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=fe(this.path_,e);return new t(this.syncTree_,n)}node(){return Tg(this.syncTree_,this.path_)}},a1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},UI=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return c1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l1(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},c1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},l1=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},u1=function(t,e,n,r){return Ng(e,new rg(n,t),r)},BC=function(t,e,n){return Ng(t,new ng(e),n)};function Ng(t,e,n){let r=t.getPriority().val(),i=UI(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=UI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ai(a,ge(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ai(i))),o.forEachChild(ne,(a,c)=>{let l=Ng(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var _o=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Rg(t,e){let n=e instanceof Q?e:new Q(e),r=t,i=L(n);for(;i!==null;){let s=ar(r.node.children,i)||{children:{},childCount:0};r=new _o(i,r,s),n=J(n),i=L(n)}return r}function Fi(t){return t.node.value}function $C(t,e){t.node.value=e,ig(t)}function HC(t){return t.node.childCount>0}function d1(t){return Fi(t)===void 0&&!HC(t)}function jl(t,e){je(t.node.children,(n,r)=>{e(new _o(n,t,r))})}function WC(t,e,n,r){n&&!r&&e(t),jl(t,i=>{WC(i,e,!0,r)}),n&&r&&e(t)}function h1(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function So(t){return new Q(t.parent===null?t.name:So(t.parent)+"/"+t.name)}function ig(t){t.parent!==null&&f1(t.parent,t.name,t)}function f1(t,e,n){let r=d1(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ig(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ig(t))}var p1=/[\[\].#$\/\u0000-\u001F\u007F]/,g1=/[\[\].#$\u0000-\u001F\u007F]/,vp=10*1024*1024,xg=function(t){return typeof t=="string"&&t.length!==0&&!p1.test(t)},zC=function(t){return typeof t=="string"&&t.length!==0&&!g1.test(t)},m1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zC(t)},BI=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!gg(t)||t&&typeof t=="object"&&_t(t,".sv")},Og=function(t,e,n,r){r&&e===void 0||Pg(Hs(t,"value"),e,n)},Pg=function(t,e,n){let r=n instanceof Q?new Rp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vr(r));if(typeof e=="function")throw new Error(t+"contains a function "+vr(r)+" with contents = "+e.toString());if(gg(e))throw new Error(t+"contains "+e.toString()+" "+vr(r));if(typeof e=="string"&&e.length>vp/3&&Ws(e)>vp)throw new Error(t+"contains a string greater than "+vp+" utf8 bytes "+vr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(je(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!xg(o)))throw new Error(t+" contains an invalid key ("+o+") "+vr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qF(r,o),Pg(t,a,r),YF(r)}),i&&s)throw new Error(t+' contains ".value" child '+vr(r)+" in addition to actual children.")}};var GC=function(t,e,n,r){if(!(r&&n===void 0)&&!xg(n))throw new Error(Hs(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},qC=function(t,e,n,r){if(!(r&&n===void 0)&&!zC(n))throw new Error(Hs(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qC(t,e,n,r)},y1=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_1=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!m1(n))throw new Error(Hs(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var sg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function kg(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!yg(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function YC(t,e,n){kg(t,n),KC(t,r=>yg(r,e))}function Ft(t,e,n){kg(t,n),KC(t,r=>Et(r,e)||Et(e,r))}function KC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(w1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w1(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();wr&&Ce("event: "+n.toString()),ki(r)}}}var E1="repo_interrupt",I1=25,og=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_l(),this.transactionQueueTree_=new _o,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function C1(t,e,n){if(t.stats_=vg(t.repoInfo_),t.forceRestClient_||IF())t.server_=new Bp(t.repoInfo_,(r,i,s,o)=>{$I(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>HI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _g(t.repoInfo_,e,(r,i,s,o)=>{$I(t,r,i,s,o)},r=>{HI(t,r)},r=>{b1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DF(t.repoInfo_,()=>new zp(t.stats_,t.server_)),t.infoData_=new $p,t.infoSyncTree_=new Ml({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=bo(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Lg(t,"connected",!1),t.serverSyncTree_=new Ml({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);Ft(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function D1(t){let n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fg(t){return a1({timestamp:D1(t)})}function $I(t,e,n,r,i){t.dataUpdateCount++;let s=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=$s(n,l=>ge(l));o=t1(t.serverSyncTree_,s,c,i)}else{let c=ge(n);o=LC(t.serverSyncTree_,s,c,i)}else if(r){let c=$s(n,l=>ge(l));o=JL(t.serverSyncTree_,s,c)}else{let c=ge(n);o=bo(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=Bl(t,s)),Ft(t.eventQueue_,a,o)}function HI(t,e){Lg(t,"connected",e),e===!1&&A1(t)}function b1(t,e){je(e,(n,r)=>{Lg(t,n,r)})}function Lg(t,e,n){let r=new Q("/.info/"+e),i=ge(n);t.infoData_.updateSnapshot(r,i);let s=bo(t.infoSyncTree_,r,i);Ft(t.eventQueue_,r,s)}function QC(t){return t.nextWriteId_++}function T1(t,e,n){let r=n1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=ge(i).withIndex(e._queryParams.getIndex());tg(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=bo(t.serverSyncTree_,e._path,s);else{let a=yo(t.serverSyncTree_,e);o=LC(t.serverSyncTree_,e._path,s,a)}return Ft(t.eventQueue_,e._path,o),Nl(t.serverSyncTree_,e,n,null,!0),s},i=>(Ul(t,"get for query "+le(e)+" failed: "+i),Promise.reject(new Error(i))))}function S1(t,e,n,r,i){Ul(t,"set",{path:e.toString(),value:n,priority:r});let s=Fg(t),o=ge(n,r),a=Tg(t.serverSyncTree_,e),c=BC(o,a,s),l=QC(t),u=FC(t.serverSyncTree_,e,c,l,!0);kg(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let g=h==="ok";g||Ve("set at "+e+" failed: "+h);let y=_r(t.serverSyncTree_,l,!g);Ft(t.eventQueue_,e,y),R1(t,i,h,f)});let d=tD(t,e);Bl(t,d),Ft(t.eventQueue_,d,[])}function A1(t){Ul(t,"onDisconnectEvents");let e=Fg(t),n=_l();Hp(t.onDisconnect_,z(),(i,s)=>{let o=u1(i,s,t.serverSyncTree_,e);EC(n,i,o)});let r=[];Hp(n,z(),(i,s)=>{r=r.concat(bo(t.serverSyncTree_,i,s));let o=tD(t,i);Bl(t,o)}),t.onDisconnect_=_l(),Ft(t.eventQueue_,z(),r)}function M1(t,e,n){let r;L(e._path)===".info"?r=tg(t.infoSyncTree_,e,n):r=tg(t.serverSyncTree_,e,n),YC(t.eventQueue_,e._path,r)}function WI(t,e,n){let r;L(e._path)===".info"?r=Nl(t.infoSyncTree_,e,n):r=Nl(t.serverSyncTree_,e,n),YC(t.eventQueue_,e._path,r)}function N1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(E1)}function Ul(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ce(n,...e)}function R1(t,e,n,r){e&&ki(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function ZC(t,e,n){return Tg(t.serverSyncTree_,e,n)||N.EMPTY_NODE}function Vg(t,e=t.transactionQueueTree_){if(e||$l(t,e),Fi(e)){let n=XC(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&x1(t,So(e),n)}else HC(e)&&jl(e,n=>{Vg(t,n)})}function x1(t,e,n){let r=n.map(l=>l.currentWriteId),i=ZC(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ae(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Ul(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(_r(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();$l(t,Rg(t.transactionQueueTree_,e)),Vg(t,t.transactionQueueTree_),Ft(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ki(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ve("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Bl(t,e)}},o)}function Bl(t,e){let n=JC(t,e),r=So(n),i=XC(t,n);return O1(t,i,r),r}function O1(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ae(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(_r(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=I1)u=!0,d="maxretry",i=i.concat(_r(t.serverSyncTree_,c.currentWriteId,!0));else{let h=ZC(t,c.path,o);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Pg("transaction failed: Data returned ",f,c.path);let g=ge(f);typeof f=="object"&&f!=null&&_t(f,".priority")||(g=g.updatePriority(h.getPriority()));let b=c.currentWriteId,C=Fg(t),ee=BC(g,h,C);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=ee,c.currentWriteId=QC(t),o.splice(o.indexOf(b),1),i=i.concat(FC(t.serverSyncTree_,c.path,ee,c.currentWriteId,c.applyLocally)),i=i.concat(_r(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(_r(t.serverSyncTree_,c.currentWriteId,!0))}Ft(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}$l(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ki(r[a]);Vg(t,t.transactionQueueTree_)}function JC(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Fi(r)===void 0;)r=Rg(r,n),e=J(e),n=L(e);return r}function XC(t,e){let n=[];return eD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function eD(t,e,n){let r=Fi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jl(e,i=>{eD(t,i,n)})}function $l(t,e){let n=Fi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$C(e,n.length>0?n:void 0)}jl(e,r=>{$l(t,r)})}function tD(t,e){let n=So(JC(t,e)),r=Rg(t.transactionQueueTree_,e);return h1(r,i=>{yp(t,i)}),yp(t,r),WC(r,i=>{yp(t,i)}),n}function yp(t,e){let n=Fi(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(m(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(m(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_r(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$C(e,void 0):n.length=s+1,Ft(t.eventQueue_,So(e),i);for(let o=0;o<r.length;o++)ki(r[o])}}function P1(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function k1(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ve(`Invalid query segment '${n}' in query '${t}'`)}return e}var zI=function(t,e){let n=F1(t),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ul(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Q(n.pathString)}},F1=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=P1(t.substring(u,d)));let h=k1(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let f=e.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Rl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}},xl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ol=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Cr=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:dC(this._path)}get ref(){return new Lt(this._repo,this._path)}get _queryIdentifier(){let e=MI(this._queryParams),n=mg(e);return n==="{}"?"default":n}get _queryObject(){return MI(this._queryParams)}isEqual(e){if(e=Te(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=yg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+GF(this._path)}};function L1(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function jg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Sn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Er)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Nn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ne){if(e!=null&&!BI(e)||n!=null&&!BI(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(t.getIndex()instanceof vl||t.getIndex()===_C,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nD(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Lt=class t extends Cr{constructor(e,n){super(e,n,new Up,!1)}get parent(){let e=fC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},wo=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Q(e),r=Eo(this.ref,e);return new t(this._node.getChild(n),r,ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Eo(this.ref,r),ne)))}hasChild(e){let n=new Q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function rD(t,e){return t=Te(t),t._checkNotDeleted("ref"),e!==void 0?Eo(t._root,e):t._root}function Eo(t,e){return t=Te(t),L(t._path)===null?v1("child","path",e,!1):qC("child","path",e,!1),new Lt(t._repo,fe(t._path,e))}function iD(t,e){t=Te(t),y1("set",t._path),Og("set",e,t._path,!1);let n=new _n;return S1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sD(t){t=Te(t);let e=new Ol(()=>{}),n=new Pl(e);return T1(t._repo,t,n).then(r=>new wo(r,new Lt(t._repo,t._path),t._queryParams.getIndex()))}var Pl=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Rl("value",this,new wo(e.snapshotNode,new Lt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new xl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},ag=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new xl(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=Eo(new Lt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Rl(e.type,this,new wo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function V1(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{WI(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let o=new Ol(n,s||void 0),a=e==="value"?new Pl(o):new ag(e,o);return M1(t._repo,t,a),()=>WI(t._repo,t,a)}function oD(t,e,n,r){return V1(t,"value",e,n,r)}var Oi=class{},cg=class extends Oi{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Og("endAt",this._value,e._path,!0);let n=lL(e._queryParams,this._value,this._key);if(nD(n),jg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cr(e._repo,e._path,n,e._orderByCalled)}};function aD(t,e){return GC("endAt","key",e,!0),new cg(t,e)}var lg=class extends Oi{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Og("startAt",this._value,e._path,!0);let n=cL(e._queryParams,this._value,this._key);if(nD(n),jg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cr(e._repo,e._path,n,e._orderByCalled)}};function cD(t=null,e){return GC("startAt","key",e,!0),new lg(t,e)}var ug=class extends Oi{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cr(e._repo,e._path,aL(e._queryParams,this._limit),e._orderByCalled)}};function lD(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ug(t)}var dg=class extends Oi{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){L1(e,"orderByKey");let n=uL(e._queryParams,Sn);return jg(n),new Cr(e._repo,e._path,n,!0)}};function uD(){return new dg}function dD(t,...e){let n=Te(t);for(let r of e)n=r._apply(n);return n}WL(Lt);KL(Lt);var j1="FIREBASE_DATABASE_EMULATOR_HOST",hg={},U1=!1;function B1(t,e,n,r){t.repoInfo_=new ul(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $1(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ce("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=zI(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[j1]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=zI(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new lo(lo.OWNER):new Dp(t.name,t.options,e);_1("Invalid Firebase Database URL",o),$(o.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=W1(a,t,u,new Cp(t.name,n));return new fg(d,t)}function H1(t,e){let n=hg[e];(!n||n[t.key]!==t)&&Jt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),N1(t),delete n[t.key]}function W1(t,e,n,r){let i=hg[e.name];i||(i={},hg[e.name]=i);let s=i[t.toURLString()];return s&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new og(t,U1,n,r),i[t.toURLString()]=s,s}var fg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(C1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lt(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(H1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jt("Cannot call "+e+" on a deleted database.")}};function hD(t=_i(),e){let n=Ys(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=eE("database");r&&fD(n,...r)}return n}function fD(t,e,n,r={}){t=Te(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lo(lo.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:tE(r.mockUserToken,t.app.options.projectId);s=new lo(o)}B1(i,e,n,s)}function z1(t){uF(Cn),In(new ut("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return $1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),he(hI,fI,t),he(hI,fI,"esm2017")}_g.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_g.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};z1();var br=class{constructor(e){return e}},pD="database",Ug=class{constructor(){return Ks(pD)}};var Bg=new w("angularfire2.database-instances");function G1(t,e){let n=Uc(pD,t,e);return n&&new br(n)}function q1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new br(r)}}var Y1={provide:Ug,deps:[[new ke,Bg]]},K1={provide:br,useFactory:G1,deps:[[new ke,Bg],Kt]},Q1=(()=>{class t{constructor(){he("angularfire",hr.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oe({type:t});static \u0275inj=Pe({providers:[K1,Y1]})}return t})();function gD(t,...e){return{ngModule:Q1,providers:[{provide:Bg,useFactory:q1(t),multi:!0,deps:[W,Fe,Ii,fr,[new ke,no],[new ke,Ei],...e]}]}}var mD=Se(aD,!0);var vD=Se(sD,!0),yD=Se(hD,!0);var $g=Se(lD,!0);var Ao=Se(oD,!0);var Mo=Se(uD,!0);var No=Se(dD,!0),On=Se(rD,!0);var Hg=Se(iD,!0);var _D=Se(cD,!0);var Wg=class{constructor(){this.subject=new Or(1),this.subscriptions=new te}doFilter(e){this.subject.next(e)}dispose(){this.subscriptions.unsubscribe()}notEmpty(e,n){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]){let i=r[e].currentValue;i!=null&&n(i)}}))}has(e,n){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]){let i=r[e].currentValue;n(i)}}))}notFirst(e,n){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]&&!r[e].isFirstChange()){let i=r[e].currentValue;n(i)}}))}notFirstAndEmpty(e,n){this.subscriptions.add(this.subject.subscribe(r=>{if(r[e]&&!r[e].isFirstChange()){let i=r[e].currentValue;i!=null&&n(i)}}))}},wD=new w("NGX_ECHARTS_CONFIG"),ED=(()=>{let e=class e{constructor(r,i,s){this.el=i,this.ngZone=s,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new pe,this.optionsError=new pe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new Or(1),this.resize$=new ve,this.changeFilter=new Wg,this.resizeObFired=!1,this.echarts=r.echarts,this.theme=r.theme||null}ngOnChanges(r){this.changeFilter.doFilter(r)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(wu(100,en,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(r=>{for(let i of r)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",r=>this.onOptionsChange(r)),this.changeFilter.notFirstAndEmpty("merge",r=>this.setOption(r)),this.changeFilter.has("loading",r=>this.toggleLoading(!!r)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(r){this.chart?r?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>r?i.showLoading(this.loadingType,this.loadingOpts):i.hideLoading())}setOption(r,i){if(this.chart)try{this.chart.setOption(r,i)}catch(s){console.error(s),this.optionsError.emit(s)}}refreshChart(){return p(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let r=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(r,null).getPropertyValue("height");(!i||i==="0px")&&(!r.style.height||r.style.height==="0px")&&(r.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:s})=>s(r,this.theme,this.initOpts)))}initChart(){return p(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(r){return p(this,null,function*(){r&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(r){return this.chartInit.pipe(xe(i=>new x(s=>(i.on(r,o=>this.ngZone.run(()=>s.next(o))),()=>{this.chart&&(this.chart.isDisposed()||i.off(r))}))))}};e.\u0275fac=function(i){return new(i||e)(q(wD),q(Gt),q(W))},e.\u0275dir=qe({type:e,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[pn]});let t=e;return t})(),ID=(t={})=>({provide:wD,useFactory:()=>G(_({},t),{echarts:()=>import("./chunk-FMSCB5E5.js")})});var ND=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(q(ii),q(Gt))},e.\u0275dir=qe({type:e});let t=e;return t})(),RD=(()=>{let e=class e extends ND{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ni(e)))(s||e)}})(),e.\u0275dir=qe({type:e,features:[Xn]});let t=e;return t})(),Kg=new w("");var Z1={provide:Kg,useExisting:ti(()=>Gl),multi:!0};function J1(){let t=qt()?qt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var X1=new w(""),Gl=(()=>{let e=class e extends ND{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!J1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(q(ii),q(Gt),q(X1,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[si([Z1]),Xn]});let t=e;return t})();var eV=new w(""),tV=new w("");function xD(t){return t!=null}function OD(t){return er(t)?ie(t):t}function PD(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function kD(t,e){return e.map(n=>n(t))}function nV(t){return!t.validate}function FD(t){return t.map(e=>nV(e)?e:n=>e.validate(n))}function rV(t){if(!t)return null;let e=t.filter(xD);return e.length==0?null:function(n){return PD(kD(n,e))}}function LD(t){return t!=null?rV(FD(t)):null}function iV(t){if(!t)return null;let e=t.filter(xD);return e.length==0?null:function(n){let r=kD(n,e).map(OD);return pu(r).pipe(j(PD))}}function VD(t){return t!=null?iV(FD(t)):null}function CD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sV(t){return t._rawValidators}function oV(t){return t._rawAsyncValidators}function zg(t){return t?Array.isArray(t)?t:[t]:[]}function Wl(t,e){return Array.isArray(t)?t.includes(e):t===e}function DD(t,e){let n=zg(e);return zg(t).forEach(i=>{Wl(n,i)||n.push(i)}),n}function bD(t,e){return zg(e).filter(n=>!Wl(t,n))}var zl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gg=class extends zl{get formDirective(){return null}get path(){return null}},Oo=class extends zl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},aV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zq=G(_({},aV),{"[class.ng-submitted]":"isSubmitted"}),jD=(()=>{let e=class e extends qg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(Oo,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&nh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Xn]});let t=e;return t})();var Ro="VALID",Hl="INVALID",Li="PENDING",xo="DISABLED";function cV(t){return(ql(t)?t.validators:t)||null}function lV(t){return Array.isArray(t)?LD(t):t||null}function uV(t,e){return(ql(e)?e.asyncValidators:t)||null}function dV(t){return Array.isArray(t)?VD(t):t||null}function ql(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Yg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ro}get invalid(){return this.status===Hl}get pending(){return this.status==Li}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bD(e,this._rawAsyncValidators))}hasValidator(e){return Wl(this._rawValidators,e)}hasAsyncValidator(e){return Wl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Li,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xo,this.errors=null,this._forEachChild(r=>{r.disable(G(_({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(_({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ro,this._forEachChild(r=>{r.enable(G(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(_({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ro||this.status===Li)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Li,this._hasOwnPendingAsyncValidator=!0;let n=OD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?Hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Li)?Li:this._anyControlsHaveStatus(Hl)?Hl:Ro}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ql(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dV(this._rawAsyncValidators)}};var UD=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Qg}),Qg="always";function hV(t,e){return[...e.path,t]}function fV(t,e,n=Qg){gV(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mV(t,e),yV(t,e),vV(t,e),pV(t,e)}function TD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gV(t,e){let n=sV(t);e.validator!==null?t.setValidators(CD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oV(t);e.asyncValidator!==null?t.setAsyncValidators(CD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();TD(e._rawValidators,i),TD(e._rawAsyncValidators,i)}function mV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&BD(t,e)})}function vV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&BD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function BD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _V(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function wV(t){return Object.getPrototypeOf(t.constructor)===RD}function EV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Gl?n=s:wV(s)?r=s:i=s}),i||r||n||null}function SD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var IV=class extends Yg{constructor(e=null,n,r){super(cV(n),uV(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ql(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CV={provide:Oo,useExisting:ti(()=>Zg)},MD=Promise.resolve(),Zg=(()=>{let e=class e extends Oo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new IV,this._registered=!1,this.name="",this.update=new pe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=EV(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),_V(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fV(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){MD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ac(i);MD.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?hV(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(q(Gg,9),q(eV,10),q(tV,10),q(Kg,10),q(Jn,8),q(UD,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[et.None,"disabled","isDisabled"],model:[et.None,"ngModel","model"],options:[et.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[si([CV]),Xn,pn]});let t=e;return t})();var DV={provide:Kg,useExisting:ti(()=>Jg),multi:!0},Jg=(()=>{let e=class e extends RD{writeValue(r){this.setProperty("value",parseFloat(r))}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ni(e)))(s||e)}})(),e.\u0275dir=qe({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,s){i&1&&ce("change",function(a){return s.onChange(a.target.value)})("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[si([DV]),Xn]});let t=e;return t})();var bV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Pe({});let t=e;return t})();var $D=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:UD,useValue:r.callSetDisabledState??Qg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Oe({type:e}),e.\u0275inj=Pe({imports:[bV]});let t=e;return t})();function SV(t,e){if(t&1&&(A(0,"div",12),de(1,"div",13),F()),t&2){let n=S_();At(),rc("options",n.Option)}}var HD=(()=>{let e=class e{constructor(r){this.platformId=r,this.temp=0,this.temp_ambient=0,this.umidade=0,this.door_status="",this.startDateTime="",this.endDateTime="",this.database=v(br),this.Option={},this.loadData(),this.loadDataPorta(),this.loadTemp(),this.isBrowser=Y_(this.platformId)}ngOnInit(){let r=On(this.database,"/sensorData"),i=No(r,Mo());Ao(i,s=>{let o={temperature:[],humidity:[],timestamps:[]};s.forEach(a=>{let c=a.val();o.temperature.push(c.temperature),o.humidity.push(c.humidity),o.timestamps.push(c.timestamp)}),this.updateChart(o)})}increment(){this.temp++,this.saveData()}decrement(){this.temp--,this.saveData()}subir(){this.saveServoData("u")}descer(){this.saveServoData("d")}saveData(){let r=On(this.database,"temperatura");Hg(r,this.temp).then(()=>console.log("Dados salvos com sucesso:",this.temp)).catch(i=>console.error("Erro ao salvar dados:",i))}saveServoData(r){let i=On(this.database,"/servo/");Hg(i,r).then(()=>console.log(`Dados '${r}' salvos com sucesso`)).catch(s=>console.error("Erro ao salvar dados:",s))}loadTemp(){let r=On(this.database,"temperatura");vD(r).then(i=>{if(i.exists()){let s=i.val();console.log("Dados consultados com sucesso:",s),this.temp=s}else console.log("Nenhum dado dispon\xEDvel")}).catch(i=>{console.error("Erro ao consultar dados:",i)})}loadData(){let r=On(this.database,"/sensorData"),i=No(r,Mo(),$g(1));Ao(i,s=>{s.forEach(o=>{let a=o.val();a!==null&&(this.umidade=a.humidity,this.temp_ambient=a.temperature,console.log("\xDAltimos dados carregados com sucesso:",a))})})}loadDataPorta(){let r=On(this.database,"/doorStatus"),i=No(r,Mo(),$g(1));Ao(i,s=>{s.forEach(o=>{let a=o.val();a!==null&&(this.door_status=a.door_status)})})}filterData(){if(this.startDateTime&&this.endDateTime){let r=On(this.database,"/sensorData"),i=No(r,Mo(),_D(this.startDateTime),mD(this.endDateTime));Ao(i,s=>{let o={temperature:[],humidity:[],timestamps:[]};s.forEach(a=>{let c=a.val();o.temperature.push(c.temperature),o.humidity.push(c.humidity),o.timestamps.push(c.timestamp)}),console.log("Dados filtrados com sucesso:",o.temperature),console.log("Dados filtrador com sucesso:",o.humidity),console.log("Dados filtrador com sucesso:",o.timestamps),this.updateChart(o)})}else console.error("Por favor, insira ambas as datas."),console.log("startDate",this.startDateTime),console.log("endDate",this.endDateTime)}updateChart(r){this.Option={title:{text:"Temperatura e Umidade"},tooltip:{trigger:"axis"},legend:{data:["Temperatura","Umidade"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:r.timestamps},yAxis:{type:"value",min:0,max:100,interval:10},series:[{name:"Temperatura",type:"line",data:r.temperature},{name:"Umidade",type:"line",data:r.humidity}]},console.log("Dados carregados com sucesso:",r.temperature),console.log("Dados carregados com sucesso:",r.humidity)}};e.\u0275fac=function(i){return new(i||e)(q(Ke))},e.\u0275cmp=rt({type:e,selectors:[["app-diagram"]],standalone:!0,features:[si([ID()]),ot],decls:49,vars:8,consts:[[1,"fadein"],[1,"container"],[1,"box"],[3,"click"],["type","range","min","1","max","5",3,"ngModel","ngModelChange"],[1,"camera"],[1,"btn"],["class","grafico",4,"ngIf"],["for","startDateTime"],["type","datetime-local","id","startDateTime",3,"ngModel","ngModelChange"],["for","endDateTime"],["type","datetime-local","id","endDateTime",3,"ngModel","ngModelChange"],[1,"grafico"],["echarts","",3,"options"]],template:function(i,s){i&1&&(de(0,"app-header"),A(1,"main",0)(2,"div",1)(3,"div",2)(4,"h3"),X(5,"Programa de temperatura da Geladeira:"),F(),A(6,"div")(7,"button",3),ce("click",function(){return s.decrement()}),X(8,"-"),F(),A(9,"input",4),gs("ngModelChange",function(a){return sc(s.temp,a)||(s.temp=a),a}),F(),A(10,"button",3),ce("click",function(){return s.increment()}),X(11,"+"),F(),A(12,"span"),X(13),F()()(),A(14,"div",2)(15,"h3"),X(16,"Umidade: "),F(),A(17,"p"),X(18),F()(),A(19,"div",2)(20,"h3"),X(21,"Temperatura:"),F(),A(22,"p"),X(23),F()(),A(24,"div",2)(25,"h3"),X(26,"Status Porta:"),F(),A(27,"p"),X(28),F()()(),A(29,"div",1)(30,"div",5)(31,"div",6)(32,"button",3),ce("click",function(){return s.subir()}),X(33,"Subir C\xE2mera"),F(),A(34,"button",3),ce("click",function(){return s.descer()}),X(35,"Abaixar C\xE2mera"),F()()()(),A(36,"div",1),th(37,SV,2,1,"div",7),F(),A(38,"div",1)(39,"label",8),X(40,"Data e Hora Inicial:"),F(),A(41,"input",9),gs("ngModelChange",function(a){return sc(s.startDateTime,a)||(s.startDateTime=a),a}),F(),A(42,"label",10),X(43,"Data e Hora Final:"),F(),A(44,"input",11),gs("ngModelChange",function(a){return sc(s.endDateTime,a)||(s.endDateTime=a),a}),F(),A(45,"div",6)(46,"button",3),ce("click",function(){return s.filterData()}),X(47,"Filtrar Dados"),F()()()(),de(48,"app-footer")),i&2&&(At(9),ps("ngModel",s.temp),At(4),ic("",s.temp," "),At(5),fs(s.umidade),At(5),fs(s.temp_ambient),At(5),fs(s.door_status),At(9),rc("ngIf",s.isBrowser),At(4),ps("ngModel",s.startDateTime),At(3),ps("ngModel",s.endDateTime))},dependencies:[Kw,xc,vs,q_,ED,$D,Gl,Jg,jD,Zg],styles:["h3[_ngcontent-%COMP%]{letter-spacing:.125rem;font-family:Inter Tight;text-align:center}.container[_ngcontent-%COMP%]{display:flex}.box[_ngcontent-%COMP%]{flex:1;background-color:#faebd7;border-radius:15px;margin:10% 10px 10px;padding:80px}.box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0b0b0b;font-size:46px;text-align:center}.camera[_ngcontent-%COMP%]{flex:1;background-color:#faebd7;border-radius:15px;margin:10px;padding:80px}.camera[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:40%}.grafico[_ngcontent-%COMP%]{flex:1;background-color:#faebd7;border-radius:15px;margin:10px;padding:80px}.grafico[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:40%}button[_ngcontent-%COMP%]{margin:10px;padding:7px;cursor:pointer;background-color:#deb887;border:0;border-radius:10px;letter-spacing:.125rem;font-family:Inter Tight;font-weight:600}.fadein[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 2s ease-in forwards;margin-bottom:10%}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]});let t=e;return t})();var WD=(()=>{let e=class e{constructor(r){this.router=r}open(){let i=document.getElementsByName("codigo")[0].value;i==="123"&&this.router.navigate(["/diagram"])}};e.\u0275fac=function(i){return new(i||e)(q(mi))},e.\u0275cmp=rt({type:e,selectors:[["app-home"]],standalone:!0,features:[ot],decls:9,vars:0,consts:[[1,"fadein"],["type","text","name","codigo"],["type","submit","name","acao","value","Enviar",3,"click"]],template:function(i,s){i&1&&(A(0,"main",0)(1,"h1"),X(2,"Geladeira Inteligente ProActive"),F(),A(3,"form")(4,"h3"),X(5,"C\xF3digo:"),F(),de(6,"input",1),A(7,"input",2),ce("click",function(){return s.open()}),F()()(),de(8,"app-footer"))},dependencies:[xc],styles:["h1[_ngcontent-%COMP%]{font-size:3.25rem;font-weight:500;letter-spacing:-.125rem;font-family:Inter Tight;margin-top:8rem;text-align:center}h3[_ngcontent-%COMP%]{letter-spacing:.125rem;font-family:Inter Tight}form[_ngcontent-%COMP%]{max-width:400px;width:60%;padding:20px;position:absolute;left:50%;right:50%;transform:translate(-50%,-50%);margin-top:11rem;text-align:center;background-color:#faebd7;border-radius:15px}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:90%;height:45px;border:1px solid white;padding-left:10px;margin:10px 0}form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{width:50%;height:30px;margin-top:2rem;cursor:pointer;background-color:#deb887;border:0;border-radius:20px;letter-spacing:.125rem;font-family:Inter Tight;font-weight:600}form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background-color:#a58355}.fadein[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 2s ease-in forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]});let t=e;return t})();var zD=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"diagram",component:HD},{path:"home",component:WD}];var GD={providers:[qw(zD),fw(),ls(DE(()=>bE({projectId:"proactive-ae334",appId:"1:98316423271:web:594349f7713fdbd0f8c4c2",databaseURL:"https://proactive-ae334-default-rtdb.firebaseio.com",storageBucket:"proactive-ae334.appspot.com",apiKey:"AIzaSyDuCIrTT_CQjwBTzwdqT8exzWlqmqrs2ao",authDomain:"proactive-ae334.firebaseapp.com",messagingSenderId:"98316423271"}))),ls(uI(()=>dI())),ls(gD(()=>yD()))]};var qD=(()=>{let e=class e{constructor(){this.title="GeladeiraInteligente"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["app-root"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(i,s){i&1&&de(0,"router-outlet")},dependencies:[vs,Jh]});let t=e;return t})();dw(qD,GD).catch(t=>console.error(t));
